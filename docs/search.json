[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "R 101",
    "section": "",
    "text": "This tutorial covers basic R usage.\nYou have probably been directed to this page because you are participating in a course that requires R programming. In that course, you will most likely use both R and RStudio. This tutorial comprises three exercises that are intended to guide you through the initial steps of getting up-and-running with R.\nBefore you can do any R programming, however, you will need to install R and RStudio. The steps below will guide you through installing both R and RStudio. Please do so before proceeding on to the exercises.\n—  Copyright Hanne Oberman, 2025 - CC BY-NC-SA 4.0  Materials developed by Amices team - Methodology & Statistics - Utrecht University",
    "crumbs": [
      "Overview"
    ]
  },
  {
    "objectID": "index.html#course-contents",
    "href": "index.html#course-contents",
    "title": "R 101",
    "section": "Course contents",
    "text": "Course contents\n\nInstallation\nBefore you start the exercises, make sure you can use R either locally on your PC or online through Posit Cloud.\n\nIntsallation\n\n\n\nExercises\nThis tutorial is broken into the following three exercises.\n\nExercise 1\nExercise 2\nExercise 3\n\n\n\nSolutions\nBelow, you can find suggested solutions for the above exercises.\n\nExercise 1 Solutions\nExercise 2 Solutions\nExercise 3 Solutions\n\nThese solutions are provided so you can check your work and unstick yourself if you really can’t figure out one of the exercise questions. You should make a concerted effort to complete each exercise yourself before you view these solutions. You won’t get much out of this tutorial if you skip right to the answers.",
    "crumbs": [
      "Overview"
    ]
  },
  {
    "objectID": "exercises/installation.html",
    "href": "exercises/installation.html",
    "title": "Installation",
    "section": "",
    "text": "System requirements\nYou will either need a computer for which you have full write access and administrator rights, or run the code via an online server.\nWe will explore programming and compiling in this tutorial, so you will need full access to your machine. Some corporate computers (and university computers) restrict the access of their users. I therefore advise you to use a personal computer for this course, if possible. Or to access R online via Posit Cloud (see Section 2 below).\n—  Copyright Hanne Oberman, 2025 - CC BY-NC-SA 4.0  Materials developed by Amices team - Methodology & Statistics - Utrecht University",
    "crumbs": [
      "Installation"
    ]
  },
  {
    "objectID": "exercises/installation.html#local-version-of-r",
    "href": "exercises/installation.html#local-version-of-r",
    "title": "Installation",
    "section": "Local version of R",
    "text": "Local version of R\nIf you are already using a local version of R, you can skip ahead to Section 1.2.\n\nFresh installation\n1. Install R\nYou can obtain a copy of R here. We won’t use R directly in this course. Rather, we’ll call R through RStudio. Therefore, you also need to install RStudio.\n2. Install RStudio Desktop\nRStudio is an Integrated Development Environment (IDE) for R. You can download RStudio as stand-alone software here. You want the free, open-source RStudio Desktop version.\n3. Start RStudio, and install packages\nOpen RStudio, and copy-paste the following line of code into the console pane to install the packages you will need for the exercises.\n\nIf nothing happens after you paste the code, try hitting the “Enter/Return” key.\n\n\ninstall.packages(c(\"quarto\", \"knitr\", \"dplyr\", \"mice\"), dependencies = TRUE)\n\nIf you are not sure where to paste the code, use the following figure to identify the console.\n\nThe console pane occupies the left half of the RStudio window shown in this image.\n\n\n\n\nIf you are asked the following:\nDo you want to install from sources the package which needs \ncompilation? (Yes/no/cancel)\nType Yes in the console, and press the “Enter/Return” key (or click the corresponding button if the question presents as a dialog box).\n\n\nExisting installation\n1. Check R version (you will need version 4.1 or higher)\n\nR.version$version.string\n\n[1] \"R version 4.5.0 (2025-04-11)\"\n\n\n2. Check installation of R packages\nYou can verify whether all packages are installed correctly by running:\n\nall(c(\"quarto\", \"knitr\", \"dplyr\", \"mice\") %in% rownames(installed.packages()))\n\n[1] TRUE\n\n\nMissing packages can be installed as follows:\n\ninstall.packages(c(\"quarto\", \"knitr\", \"dplyr\", \"mice\"))",
    "crumbs": [
      "Installation"
    ]
  },
  {
    "objectID": "exercises/installation.html#sec-cloud",
    "href": "exercises/installation.html#sec-cloud",
    "title": "Installation",
    "section": "Online version of R",
    "text": "Online version of R\n1. Choose an online server to run R\nIf the suggested steps fail or you have insufficient rights on your machine, you can use the following web-based solutions.\n\nOpen a free account on posit.cloud.\n\nYou can run your own cloud-based RStudio environment there.\n\nIf you are a Utrecht University student, you can use Utrecht University’s MyWorkPlace.\n\nYou will have access to R and RStudio there. When you start a new MyWorkPlace session, you may need to (re)install packages.\n\n\nNaturally, you will need internet access to use these services.\n1. Go to https://posit.cloud/ and click on “Sign Up” in the top-right corner.\n\n2. Select “Cloud free” by clicking “Learn more” and sign up.\n\n3. Go to https://docs.posit.co/cloud/get_started/ and follow the instructions up to and including “Create a Project”\n4. Open a fresh R-file: “File –&gt; New file –&gt; R script”\n\n\nEnd of Exercise 0",
    "crumbs": [
      "Installation"
    ]
  },
  {
    "objectID": "exercises/exercise2.html",
    "href": "exercises/exercise2.html",
    "title": "Exercise 2",
    "section": "",
    "text": "In this practical, you will play around with the different types of R objects.\n\n\n1 Creating Data Objects\n\nCreate two vectors\n\nOne named vec1 containing the integers 1 through 6\nOne named vec2 with letters A through F\n\n\nCreate two matrices\n\nOne named mat1 from vec1\nOne named mat2 from vec2\n\nDefine both matrices to have 3 rows and 2 columns.\n\nInspect vec1, vec2, mat1, and mat2\nAre they all numeric?\n\n\n\n\nMake a 6 \\(\\times\\) 2 matrix named mat3 from both vec1 and vec2\n\n\n 1\n\n\n\n\nUse vec1 to populate the first column\nUse vec2 to populate the second column\n\nInspect this matrix.\n\n\n\n\nMake a two-column data frame called dat3\n\n\n 2\n\n\n\n\nUse function data.frame().\nSet vec1 and vec2 as the columns.\nName the columns v1 and v2, respectively.\n\n\n\n\n2 Data Manipulation\n\n\n\n\nMake a 2-column data frame called dat3b\n\n\n 3\n\n\n\n\nUse the as.data.frame() function with the matrix created in  1 as input.\nSet the argument stringsAsFactors = TRUE.\nName the columns v1 and v2, respectively.\n\nAre the types of the v1 and v2 columns the same as the types of vec1 and vec2, respectively?\n\nCheck if the first columns in the data frames from  2 and  3 are numeric\nIf these columns are not numeric, determine their type.\n\nSelect the following elements from the data frame you created in  2\n\nThe third row\nThe second column\nThe intersection of the above\n\n\nInspect the structure of the data frame that you created in  2.\nThe structure function, str(), allows us to inspect the structure of an R object. Try using it here.\n\nLet’s pretend the first variable (v1) in the data frame you created in  2 (dat3) is not coded correctly, and it actually represents grouping information about cities.\nConvert the v1 variable into a factor with the levels:\n\nUtrecht\nNew York,\nLondon\nSingapore\nRome\nCape Town\n\n\n\n\n3 Working with Real Data\n\nLoad the workspace boys.RData\nYou can download the boys.RData workspace here.\n\nMost R packages ship with datasets included (these datasets are most often used for examples to demonstrate the functionality of the package). Since you have not yet learned how to load packages, you get the boys data (which comes from the mice package) as a stand-alone workspace.\nView the boys dataset two ways\n\nBy executing boys in the console\nBy using the View() function\n\n\nFind the dimensions of the boys dataset\nInspect the first 6 cases and the final 6 cases in the dataset\n\nCheck if the boys data are sorted on age\n\nInspect the boys dataset with str()\n\nUse one or more functions to generate numeric summaries of each variable’s distribution\nAt least show the minimum, the maximum, the mean, and the median for all of the variables.\n\nGive the standard deviations for age and bmi\nTip: Use the help (?) and help search (??) functionality in R, if you get stuck.\n\n\n\n4 Logical Subsetting\n\nCreate a new data frame containing only the boys that are 20 years old or older\nHow many boys are at least 20 years old?\n\nSelect all boys that are older than 19 but younger than 19.5\nHow many boys are between the ages of 19 and 19.5?\n\nCompute the mean age of boys younger than 15 years old that do not live in region north\n\nIn this exercise, you have learned some basic R usage. The approaches we used for this exercise offer tremendous flexibility but may also be inefficient in complex analyses or data manipulation. Doing advanced operations in basic R can require lots of code. In the next exercise, we will start using packages that allow us to do more complicated operations with fewer lines of code.\nAs you start using R in your own research, you will quickly find yourself in need of packages that are not part of the default R installation. The beauty of R is that its functionality is community-driven. Anyone can add packages to CRAN, and other people can use and improve these packages. There’s a good chance that a function and/or package has been already developed for the analysis or operation you need. If not, maybe you’re interested in filling the gap by submitting your own package?\n\nEnd of Exercise 2\n\n\n\n\n—  Copyright Hanne Oberman, 2025 - CC BY-NC-SA 4.0  Materials developed by Amices team - Methodology & Statistics - Utrecht University",
    "crumbs": [
      "Exercise 2"
    ]
  },
  {
    "objectID": "exercises/exercise2.html#section",
    "href": "exercises/exercise2.html#section",
    "title": "Exercise 2",
    "section": "1.1 ",
    "text": "1.1 \nCreate two vectors\n\nOne named vec1 containing the integers 1 through 6\nOne named vec2 with letters A through F\n\n\nvec1 &lt;- c(1, 2, 3, 4, 5, 6)\nvec2 &lt;- c(\"A\", \"B\", \"C\", \"D\", \"E\", \"F\")\n\n\nWe can use concatenation function, c(), to create a vector. A vector is just a series of numbers, letters, or other data elements. An alternative solution is vec1 &lt;- 1:6 vec2 &lt;- LETTERS[1:6]",
    "crumbs": [
      "Exercise 2"
    ]
  },
  {
    "objectID": "exercises/exercise2.html#section-1",
    "href": "exercises/exercise2.html#section-1",
    "title": "Exercise 2",
    "section": "1.2 ",
    "text": "1.2 \nCreate two matrices\n\nOne named mat1 from vec1\nOne named mat2 from vec2\n\nDefine both matrices to have 3 rows and 2 columns.\n\nmat1 &lt;- matrix(vec1, nrow = 3, ncol = 2)\nmat2 &lt;- matrix(vec2, nrow = 3, ncol = 2)\n\n\nWe can use the matrix() function to create a matrix. When we create a matrix, we need to specify the dimensions (in this case 3 \\(\\times\\) 2).",
    "crumbs": [
      "Exercise 2"
    ]
  },
  {
    "objectID": "exercises/exercise2.html#section-2",
    "href": "exercises/exercise2.html#section-2",
    "title": "Exercise 2",
    "section": "1.3 ",
    "text": "1.3 \nInspect vec1, vec2, mat1, and mat2\nAre they all numeric?\n\nvec1\n\n[1] 1 2 3 4 5 6\n\nvec2\n\n[1] \"A\" \"B\" \"C\" \"D\" \"E\" \"F\"\n\nmat1\n\n     [,1] [,2]\n[1,]    1    4\n[2,]    2    5\n[3,]    3    6\n\nmat2\n\n     [,1] [,2]\n[1,] \"A\"  \"D\" \n[2,] \"B\"  \"E\" \n[3,] \"C\"  \"F\" \n\n\n\nNo. vec1 and mat1 contain numbers, but vec2 and mat2 contain characters.",
    "crumbs": [
      "Exercise 2"
    ]
  },
  {
    "objectID": "exercises/exercise2.html#matrixQ",
    "href": "exercises/exercise2.html#matrixQ",
    "title": "Exercise 2",
    "section": "",
    "text": "Make a 6 \\(\\times\\) 2 matrix named mat3 from both vec1 and vec2\n\nUse vec1 to populate the first column\nUse vec2 to populate the second column\n\nInspect this matrix.\n\nmat3 &lt;- matrix(c(vec1, vec2), 6, 2)\nmat3\n\n     [,1] [,2]\n[1,] \"1\"  \"A\" \n[2,] \"2\"  \"B\" \n[3,] \"3\"  \"C\" \n[4,] \"4\"  \"D\" \n[5,] \"5\"  \"E\" \n[6,] \"6\"  \"F\" \n\n\n\nOR\n\n\nmat3b &lt;- cbind(vec1, vec2)\nmat3b\n\n     vec1 vec2\n[1,] \"1\"  \"A\" \n[2,] \"2\"  \"B\" \n[3,] \"3\"  \"C\" \n[4,] \"4\"  \"D\" \n[5,] \"5\"  \"E\" \n[6,] \"6\"  \"F\" \n\n\n\nAll elements in a matrix must have the same type. So, if one or more elements in the matrix are characters, all other elements are converted to characters.\nNotice that the second approach (using the column bind function, cbind()) returns a matrix with the column names set to the names of the bound objects.\nTo create a rectangular dataset that contains different types of data (e.g., both numeric and character variables), we can create a data frame. When working with real datasets (which often contain diverse data types), data frames are usually preferred over matrices. We only really use matrices when doing pure numerical calculation, such as in matrix algebra.",
    "crumbs": [
      "Exercise 2"
    ]
  },
  {
    "objectID": "exercises/exercise2.html#dfQ1",
    "href": "exercises/exercise2.html#dfQ1",
    "title": "Exercise 2",
    "section": "1.5 ",
    "text": "1.5 \nMake a two-column data frame called dat3\n\nUse function data.frame().\nSet vec1 and vec2 as the columns.\nName the columns v1 and v2, respectively.\n\n\ndat3 &lt;- data.frame(v1 = vec1, v2 = vec2)\ndat3\n\n  v1 v2\n1  1  A\n2  2  B\n3  3  C\n4  4  D\n5  5  E\n6  6  F",
    "crumbs": [
      "Exercise 2"
    ]
  },
  {
    "objectID": "exercises/exercise2.html#dfQ2",
    "href": "exercises/exercise2.html#dfQ2",
    "title": "Exercise 2",
    "section": "2.1 ",
    "text": "2.1 \nMake a 2-column data frame called dat3b\n\nUse the as.data.frame() function with the matrix created in Question Section 1.4 as input.\nSet the argument stringsAsFactors = TRUE.\nName the columns v1 and v2, respectively.\n\nAre the types of the v1 and v2 columns the same as the types of vec1 and vec2, respectively?\n\ndat3b &lt;- as.data.frame(mat3, stringsAsFactors = TRUE)\n(colnames(dat3b) &lt;- c(\"v1\", \"v2\"))\n\n[1] \"v1\" \"v2\"\n\n\n\nThis is a tricky situation. At face value, everything may seem fine, but, we need to be careful. The above code may not be doing what you expected. Because every element of mat3 is a character, we have lost the numeric nature of vec1.",
    "crumbs": [
      "Exercise 2"
    ]
  },
  {
    "objectID": "exercises/exercise2.html#section-3",
    "href": "exercises/exercise2.html#section-3",
    "title": "Exercise 2",
    "section": "2.2 ",
    "text": "2.2 \nCheck if the first columns in the data frames from Questions @ref(dfQ1) and @ref(dfQ2) are numeric\nIf these columns are not numeric, determine their type.\n\nis.numeric(dat3[, 1])\n\n[1] TRUE\n\nis.numeric(dat3b[, 1])\n\n[1] FALSE\n\n\n\nThe first column in dat3b (from Question @ref(dfQ2)) is not numeric. As a matter of fact, it is not a character vector, either.\n\n\nis.character(dat3b[, 1])\n\n[1] FALSE\n\n\n\nRather tricky; the function as.data.frame() has converted the first variable to a factor.\n\n\nis.factor(dat3b[, 1])\n\n[1] TRUE\n\n\n\nFactors are used to represent categorical variables. Character vectors are not converted to factors by default, but the argument stringsAsFactors = TRUE forces the conversion. Hopefully, you can now see that there is a difference between character vectors and factors. Now, you also know how to force the conversion from character vectors to factors when creating a data frame.",
    "crumbs": [
      "Exercise 2"
    ]
  },
  {
    "objectID": "exercises/exercise2.html#section-4",
    "href": "exercises/exercise2.html#section-4",
    "title": "Exercise 2",
    "section": "2.3 ",
    "text": "2.3 \nSelect the following elements from the data frame you created in Question @ref(dfQ1)\n\nThe third row\nThe second column\nThe intersection of the above\n\n\ndat3[3, ] # 3rd row\n\n  v1 v2\n3  3  C\n\ndat3[, 2] # 2nd column\n\n[1] \"A\" \"B\" \"C\" \"D\" \"E\" \"F\"\n\ndat3$v2   # Also 2nd column\n\n[1] \"A\" \"B\" \"C\" \"D\" \"E\" \"F\"\n\ndat3[3, 2] # Intersection\n\n[1] \"C\"\n\n\n\nThe matrix-style subsetting operator, [ , ], is very useful in R. For matrices and data frames, the first number (before the comma) indexes rows and the second number (after the comma) indexes columns. Vectors don’t have dimensions, so we only need to provide one number for subsetting. For example, vec1[3] would yield 3. Try it.\nIn data frames, columns can also be extracted with the $ sign, but only if a name has been assigned to the column. If you do not name the columns of your data frame, R will assign default column names.",
    "crumbs": [
      "Exercise 2"
    ]
  },
  {
    "objectID": "exercises/exercise2.html#section-5",
    "href": "exercises/exercise2.html#section-5",
    "title": "Exercise 2",
    "section": "2.4 ",
    "text": "2.4 \nInspect the structure of the data frame that you created in Question @ref(dfQ1).\nThe structure function, str(), allows us to inspect the structure of an R object. Try using it here.\n\nstr(dat3)\n\n'data.frame':   6 obs. of  2 variables:\n $ v1: num  1 2 3 4 5 6\n $ v2: chr  \"A\" \"B\" \"C\" \"D\" ...\n\n\n\nInspecting the structure of your data is vital. If, when we start analyzing our data, we assume the wrong measurement level for some of our variables, we may run into serious problems. One frequent problem occurs when categorical variables are represented on the data as numeric vectors and not factors.\nNotice how the information returned by str() mirrors the information in RStudio’s environment pane. The environment pane is simply reported the ouptut from the str() function in a beautified format.",
    "crumbs": [
      "Exercise 2"
    ]
  },
  {
    "objectID": "exercises/exercise2.html#section-6",
    "href": "exercises/exercise2.html#section-6",
    "title": "Exercise 2",
    "section": "2.5 ",
    "text": "2.5 \nLet’s pretend the first variable (v1) in the data frame you created in Question @ref(dfQ1) (dat3) is not coded correctly, and it actually represents grouping information about cities.\nConvert the v1 variable into a factor with the levels:\n\nUtrecht\nNew York,\nLondon\nSingapore\nRome\nCape Town\n\n\ndat3$v1 &lt;- factor(\n  dat3$v1,\n  labels = c(\"Utrecht\", \"New York\", \"London\", \"Singapore\", \"Rome\", \"Cape Town\")\n  )\ndat3\n\n         v1 v2\n1   Utrecht  A\n2  New York  B\n3    London  C\n4 Singapore  D\n5      Rome  E\n6 Cape Town  F",
    "crumbs": [
      "Exercise 2"
    ]
  },
  {
    "objectID": "exercises/exercise2.html#section-7",
    "href": "exercises/exercise2.html#section-7",
    "title": "Exercise 2",
    "section": "3.1 ",
    "text": "3.1 \nLoad the workspace boys.RData\nYou can download the boys.RData workspace here.\n\nThere are a few ways to go about load workspaces that are available on the internet. We’ll use the boys.RData workspace to demonstrate.\n\nYou can download the boys.RData file via the link above and use the load() function to load it into your environment.\n\nNote that the following code assumes you have saved boys.RData in a subdirectory of your project folder callyed “data”.\n\n\n\n\n\nload(\"data/boys.RData\")\n\n\n\nYou can double-click the boys.RData file in your operating system’s file browser\n\nIf the file opens in R and not RStudio, you will need to right-click and select the menu option: “Open with” &gt; “RStudio”.\n\nYou can import workspaces directly from the internet by creating and loading a connection.\n\n\n\ncon &lt;- url(\"https://www.kylemlang.com/prepR/data/boys.RData\")\nload(con)\n\n\nIn the above code, we store the connection in the object con, and then we load the connection with load(con).\nAfter executing any of the above options, the boys object will be added to your Global Environment. You can then use the boys data in your analyses.\n\n\nMost R packages ship with datasets included (these datasets are most often used for examples to demonstrate the functionality of the package). Since you have not yet learned how to load packages, you get the boys data (which comes from the mice package) as a stand-alone workspace.",
    "crumbs": [
      "Exercise 2"
    ]
  },
  {
    "objectID": "exercises/exercise2.html#section-8",
    "href": "exercises/exercise2.html#section-8",
    "title": "Exercise 2",
    "section": "3.2 ",
    "text": "3.2 \nView the boys dataset two ways\n\nBy executing boys in the console\nBy using the View() function\n\n\nboys\nView(boys)\n\n\nThe output is not displayed here as it is simply too large.\nUsing View() is preferred for inspecting all but the smallest datasets. View() shows the contents of the dataset in a spreadsheet-like window. View() is only or viewing the data; you can not edit the dataset’s contents through the window generated by View()..",
    "crumbs": [
      "Exercise 2"
    ]
  },
  {
    "objectID": "exercises/exercise2.html#section-9",
    "href": "exercises/exercise2.html#section-9",
    "title": "Exercise 2",
    "section": "3.3 ",
    "text": "3.3 \nFind the dimensions of the boys dataset\n\ndim(boys)\n\n[1] 748   9\n\n\n\nThere are r nrow(boys) cases on r ncol(boys) variables.",
    "crumbs": [
      "Exercise 2"
    ]
  },
  {
    "objectID": "exercises/exercise2.html#section-10",
    "href": "exercises/exercise2.html#section-10",
    "title": "Exercise 2",
    "section": "3.4 ",
    "text": "3.4 \nInspect the first 6 cases and the final 6 cases in the dataset\n\nboys[1:6, ]\n\n     age  hgt   wgt   bmi   hc  gen  phb tv   reg\n3  0.035 50.1 3.650 14.54 33.7 &lt;NA&gt; &lt;NA&gt; NA south\n4  0.038 53.5 3.370 11.77 35.0 &lt;NA&gt; &lt;NA&gt; NA south\n18 0.057 50.0 3.140 12.56 35.2 &lt;NA&gt; &lt;NA&gt; NA south\n23 0.060 54.5 4.270 14.37 36.7 &lt;NA&gt; &lt;NA&gt; NA south\n28 0.062 57.5 5.030 15.21 37.3 &lt;NA&gt; &lt;NA&gt; NA south\n36 0.068 55.5 4.655 15.11 37.0 &lt;NA&gt; &lt;NA&gt; NA south\n\nboys[743:748, ]\n\n        age   hgt  wgt   bmi   hc  gen  phb tv   reg\n7410 20.372 188.7 59.8 16.79 55.2 &lt;NA&gt; &lt;NA&gt; NA  west\n7418 20.429 181.1 67.2 20.48 56.6 &lt;NA&gt; &lt;NA&gt; NA north\n7444 20.761 189.1 88.0 24.60   NA &lt;NA&gt; &lt;NA&gt; NA  west\n7447 20.780 193.5 75.4 20.13   NA &lt;NA&gt; &lt;NA&gt; NA  west\n7451 20.813 189.0 78.0 21.83 59.9 &lt;NA&gt; &lt;NA&gt; NA north\n7475 21.177 181.8 76.5 23.14   NA &lt;NA&gt; &lt;NA&gt; NA  east\n\n\n\nOR\n\n\nhead(boys)\n\n     age  hgt   wgt   bmi   hc  gen  phb tv   reg\n3  0.035 50.1 3.650 14.54 33.7 &lt;NA&gt; &lt;NA&gt; NA south\n4  0.038 53.5 3.370 11.77 35.0 &lt;NA&gt; &lt;NA&gt; NA south\n18 0.057 50.0 3.140 12.56 35.2 &lt;NA&gt; &lt;NA&gt; NA south\n23 0.060 54.5 4.270 14.37 36.7 &lt;NA&gt; &lt;NA&gt; NA south\n28 0.062 57.5 5.030 15.21 37.3 &lt;NA&gt; &lt;NA&gt; NA south\n36 0.068 55.5 4.655 15.11 37.0 &lt;NA&gt; &lt;NA&gt; NA south\n\ntail(boys)\n\n        age   hgt  wgt   bmi   hc  gen  phb tv   reg\n7410 20.372 188.7 59.8 16.79 55.2 &lt;NA&gt; &lt;NA&gt; NA  west\n7418 20.429 181.1 67.2 20.48 56.6 &lt;NA&gt; &lt;NA&gt; NA north\n7444 20.761 189.1 88.0 24.60   NA &lt;NA&gt; &lt;NA&gt; NA  west\n7447 20.780 193.5 75.4 20.13   NA &lt;NA&gt; &lt;NA&gt; NA  west\n7451 20.813 189.0 78.0 21.83 59.9 &lt;NA&gt; &lt;NA&gt; NA north\n7475 21.177 181.8 76.5 23.14   NA &lt;NA&gt; &lt;NA&gt; NA  east\n\n\n\nThe functions head() and tail() are very useful. For example, by comparing the output from these functions, we can infer that the data are very likely sorted on age.",
    "crumbs": [
      "Exercise 2"
    ]
  },
  {
    "objectID": "exercises/exercise2.html#section-11",
    "href": "exercises/exercise2.html#section-11",
    "title": "Exercise 2",
    "section": "3.5 ",
    "text": "3.5 \nCheck if the boys data are sorted on age\n\nTo verify if the data are sorted, we can use the is.unsorted() function to test the inverse of that statement.\nRemember that we can always search the help for functions. For example, we could have searched using ?sort or ??sorted and quickly found the function is.unsorted().\n\n\nis.unsorted(boys$age)\n\n[1] FALSE\n\n\n\nSince this function returns FALSE, we know that boys$age is sorted. To directly test if boys$age is sorted, we could have used:\n\n\n!is.unsorted(boys$age)\n\n[1] TRUE\n\n\n\nThis expression tests if boys$age is NOT unsorted, so the return value of TRUE tells us that boys$age is sorted.",
    "crumbs": [
      "Exercise 2"
    ]
  },
  {
    "objectID": "exercises/exercise2.html#section-12",
    "href": "exercises/exercise2.html#section-12",
    "title": "Exercise 2",
    "section": "3.6 ",
    "text": "3.6 \nInspect the boys dataset with str()\n\nstr(boys)\n\n'data.frame':   748 obs. of  9 variables:\n $ age: num  0.035 0.038 0.057 0.06 0.062 0.068 0.068 0.071 0.071 0.073 ...\n $ hgt: num  50.1 53.5 50 54.5 57.5 55.5 52.5 53 55.1 54.5 ...\n $ wgt: num  3.65 3.37 3.14 4.27 5.03 ...\n $ bmi: num  14.5 11.8 12.6 14.4 15.2 ...\n $ hc : num  33.7 35 35.2 36.7 37.3 37 34.9 35.8 36.8 38 ...\n $ gen: Ord.factor w/ 5 levels \"G1\"&lt;\"G2\"&lt;\"G3\"&lt;..: NA NA NA NA NA NA NA NA NA NA ...\n $ phb: Ord.factor w/ 6 levels \"P1\"&lt;\"P2\"&lt;\"P3\"&lt;..: NA NA NA NA NA NA NA NA NA NA ...\n $ tv : int  NA NA NA NA NA NA NA NA NA NA ...\n $ reg: Factor w/ 5 levels \"north\",\"east\",..: 4 4 4 4 4 4 4 3 3 2 ...",
    "crumbs": [
      "Exercise 2"
    ]
  },
  {
    "objectID": "exercises/exercise2.html#section-13",
    "href": "exercises/exercise2.html#section-13",
    "title": "Exercise 2",
    "section": "3.7 ",
    "text": "3.7 \nUse one or more functions to generate numeric summaries of each variable’s distribution\nAt least show the minimum, the maximum, the mean, and the median for all of the variables.\n\nsummary(boys)\n\n      age              hgt              wgt              bmi       \n Min.   : 0.035   Min.   : 50.00   Min.   :  3.14   Min.   :11.77  \n 1st Qu.: 1.581   1st Qu.: 84.88   1st Qu.: 11.70   1st Qu.:15.90  \n Median :10.505   Median :147.30   Median : 34.65   Median :17.45  \n Mean   : 9.159   Mean   :132.15   Mean   : 37.15   Mean   :18.07  \n 3rd Qu.:15.267   3rd Qu.:175.22   3rd Qu.: 59.58   3rd Qu.:19.53  \n Max.   :21.177   Max.   :198.00   Max.   :117.40   Max.   :31.74  \n                  NA's   :20       NA's   :4        NA's   :21     \n       hc          gen        phb            tv           reg     \n Min.   :33.70   G1  : 56   P1  : 63   Min.   : 1.00   north: 81  \n 1st Qu.:48.12   G2  : 50   P2  : 40   1st Qu.: 4.00   east :161  \n Median :53.00   G3  : 22   P3  : 19   Median :12.00   west :239  \n Mean   :51.51   G4  : 42   P4  : 32   Mean   :11.89   south:191  \n 3rd Qu.:56.00   G5  : 75   P5  : 50   3rd Qu.:20.00   city : 73  \n Max.   :65.00   NA's:503   P6  : 41   Max.   :25.00   NA's :  3  \n NA's   :46                 NA's:503   NA's   :522",
    "crumbs": [
      "Exercise 2"
    ]
  },
  {
    "objectID": "exercises/exercise2.html#section-14",
    "href": "exercises/exercise2.html#section-14",
    "title": "Exercise 2",
    "section": "3.8 ",
    "text": "3.8 \nGive the standard deviations for age and bmi\nTip: Use the help (?) and help search (??) functionality in R, if you get stuck.\n\nsd(boys$age) # SD for age\n\n[1] 6.894052\n\nsd(boys$bmi, na.rm = TRUE) # SD for bmi\n\n[1] 3.053421\n\n\n\nNote that bmi contains 21 missing values (you can see these missing values in the summary information). Therefore, we need to use na.rm = TRUE to calculate the standard deviation from the observed cases only.",
    "crumbs": [
      "Exercise 2"
    ]
  },
  {
    "objectID": "exercises/exercise2.html#section-15",
    "href": "exercises/exercise2.html#section-15",
    "title": "Exercise 2",
    "section": "4.1 ",
    "text": "4.1 \nCreate a new data frame containing only the boys that are 20 years old or older\nHow many boys are at least 20 years old?\n\nboys2 &lt;- boys[boys$age &gt;= 20, ]\nnrow(boys2)\n\n[1] 12\n\n\n\nOR\n\n\nboys2 &lt;- subset(boys, age &gt;= 20)\nnrow(boys2)\n\n[1] 12\n\n\n\nLogical vectors can be very powerful tools in R. For example, in the first solution, we selected the boys that are at least 20 by indexing the rows of the data frame with an appropriately defined logical vector.",
    "crumbs": [
      "Exercise 2"
    ]
  },
  {
    "objectID": "exercises/exercise2.html#section-16",
    "href": "exercises/exercise2.html#section-16",
    "title": "Exercise 2",
    "section": "4.2 ",
    "text": "4.2 \nSelect all boys that are older than 19 but younger than 19.5\nHow many boys are between the ages of 19 and 19.5?\n\nboys3 &lt;- boys[boys$age &gt; 19 & boys$age &lt; 19.5, ]\nnrow(boys3)\n\n[1] 18\n\n\n\nOR\n\n\nboys3.2 &lt;- subset(boys, age &gt; 19 & age &lt; 19.5)\nnrow(boys3.2)\n\n[1] 18",
    "crumbs": [
      "Exercise 2"
    ]
  },
  {
    "objectID": "exercises/exercise2.html#section-17",
    "href": "exercises/exercise2.html#section-17",
    "title": "Exercise 2",
    "section": "4.3 ",
    "text": "4.3 \nCompute the mean age of boys younger than 15 years old that do not live in region north\n\nmean(boys$age[boys$age &lt; 15 & boys$reg != \"north\" ], na.rm = TRUE)\n\n[1] 6.044461\n\n\n\nOR\n\n\nmean(subset(boys, age &lt; 15 & reg != \"north\")$age, na.rm = TRUE)\n\n[1] 6.044461\n\n\n\nIn this exercise, you have learned some basic R usage. The approaches we used for this exercise offer tremendous flexibility but may also be inefficient in complex analyses or data manipulation. Doing advanced operations in basic R can require lots of code. In the next exercise, we will start using packages that allow us to do more complicated operations with fewer lines of code.\nAs you start using R in your own research, you will quickly find yourself in need of packages that are not part of the default R installation. The beauty of R is that its functionality is community-driven. Anyone can add packages to CRAN, and other people can use and improve these packages. There’s a good chance that a function and/or package has been already developed for the analysis or operation you need. If not, maybe you’re interested in filling the gap by submitting your own package?\n\nEnd of Exercise 2",
    "crumbs": [
      "Exercise 2"
    ]
  },
  {
    "objectID": "exercises/exercise1.html",
    "href": "exercises/exercise1.html",
    "title": "Exercise 1",
    "section": "",
    "text": "In this exercise you will get acquainted with R and RStudio. RStudio adds many convenience features to the base R that you obtained from http://r-project.org. Most of these features go beyond the scope of this course, but some of them will flatten the learning curve of R programming.\nIf you have any questions, feel free to ask me or the workgroup instructor.\nOK. Let’s begin!\n—  Copyright Hanne Oberman, 2025 - CC BY-NC-SA 4.0  Materials developed by Amices team - Methodology & Statistics - Utrecht University",
    "crumbs": [
      "Exercise 1"
    ]
  },
  {
    "objectID": "exercises/exercise1.html#section",
    "href": "exercises/exercise1.html#section",
    "title": "Exercise 1",
    "section": "",
    "text": "Open RStudio\nThe following window will appear. \nRStudio is divided into 3 panes: the console, the environment/history pane, and a pane wherein you can access your files, plots, help files, etc. You can rearrange the panes through RStudio’s preferences.\nWhen we open an R script (i.e. a file that contains R code), a fourth pane will open to show the script.",
    "crumbs": [
      "Exercise 1"
    ]
  },
  {
    "objectID": "exercises/exercise1.html#section-1",
    "href": "exercises/exercise1.html#section-1",
    "title": "Exercise 1",
    "section": "",
    "text": "Open a new R script\nIn the top left you will find this button: . Click it and select “R Script”.\nA new pane will open, and you can start writing code in this new script. Unless you’re just using R as a simple calculator, you should work with R scripts instead of writing your code directly in the console. Doing so has at least the following advantages.\n\nYou will not lose your work, since all of the commands you execute are written in a script.\n\nYou log your workflow. Code does not disappear over time, so you can always tell what analyses you did for a project.\nWith access to your R script(s) and data, others can exactly reproduce your work.\n\nYou coding will become more organized as you start trying to write more readable code. In the long run, this increased organization will make you a more efficient programmer. Remember: Efficient code runs faster!",
    "crumbs": [
      "Exercise 1"
    ]
  },
  {
    "objectID": "exercises/exercise1.html#section-2",
    "href": "exercises/exercise1.html#section-2",
    "title": "Exercise 1",
    "section": "",
    "text": "Type the following into your new R script\n\n# Hey, Buddy! Let's assign the value 100 to the object a.\na &lt;- 100\n\nThe comment character, #, tells the R interpreter to ignore everything that follows in that specific line. Since nothing following a # will be interpreted as R code, you can use # to comment your code.\nThe line a &lt;- 100 assigns the value 100 to the object a. When you run this line, a new object called a will be saved to your environment and given the value 100. The value 100 and the name a are completely arbitrary. You could just as well assign the value\"bar\" to the object foo, if you like.",
    "crumbs": [
      "Exercise 1"
    ]
  },
  {
    "objectID": "exercises/exercise1.html#section-3",
    "href": "exercises/exercise1.html#section-3",
    "title": "Exercise 1",
    "section": "",
    "text": "Execute the commands in your script\nSelect both lines of code shown above, and execute them by pressing Ctrl-Enter or Ctrl-R (Windows/Linux) or Cmd-Enter (Mac)\nAfter your code is executed the results appear in the console. If you type a in the console, R will return the assigned value. Try it. \nThe shortcut Ctrl-Enter or Cmd-Enter is your friend: it runs the current selection, or—if nothing is selected—the current line. If pressing Ctrl-Enter or Cmd-Enter yields no result, you probably have the console pane selected. You can switch to the code pane by using the mouse to click on the desired line in the code pane or by pressing Ctrl-1 (Windows/Linux/Mac). You can select the console by pressing Ctrl-2 (Windows/Linux/Mac).",
    "crumbs": [
      "Exercise 1"
    ]
  },
  {
    "objectID": "exercises/exercise1.html#section-4",
    "href": "exercises/exercise1.html#section-4",
    "title": "Exercise 1",
    "section": "",
    "text": "Save your code file as practical_1.R in a folder named practicals\nYou can use the standard Ctrl-s (Windows/Linux) or Cmd-s (Mac) or click on the  icon in the code pane. Your document is now saved. Saving your script in a separate folder will allow you to create an RStudio project for your practicals.",
    "crumbs": [
      "Exercise 1"
    ]
  },
  {
    "objectID": "exercises/exercise1.html#section-5",
    "href": "exercises/exercise1.html#section-5",
    "title": "Exercise 1",
    "section": "",
    "text": "Close the practical_1.R script in the code pane\nEven though you’ve closed the script, your code is still saved as a permanent code file.",
    "crumbs": [
      "Exercise 1"
    ]
  },
  {
    "objectID": "exercises/exercise1.html#section-6",
    "href": "exercises/exercise1.html#section-6",
    "title": "Exercise 1",
    "section": "",
    "text": "Open the practical_1.R script\n\nNavigate to the practicals directory using the RStudio files pane.\nClick on the practical_1.R file in the files pane to re-open the script.\nRun both lines of code again.\nInspect the contents of the global environment by executing the ls() function.\n\nYou should see something like the following\n\nls()\n\n[1] \"a\"\n\n\nThere is only one object in the environment, and it is called a. If you look at the environment pane, you can quickly see which objects currently exist in the environment (i.e., you don’t need to manually run ls()). You can also see some information about the objects.",
    "crumbs": [
      "Exercise 1"
    ]
  },
  {
    "objectID": "exercises/exercise1.html#section-7",
    "href": "exercises/exercise1.html#section-7",
    "title": "Exercise 1",
    "section": "",
    "text": "Create a new RStudio project\n\nClick on the  button in the top-right corner of RStudio.\nSelect “New Project”\nClick on “Existing Directory”\nNavigate to the folder where you just saved your code.\nClick on “Create Project”.\n\nYou will notice that the file practicals.Rproj appears in the files pane.\n\n\n\nFiles Pane\n\n\nThe possibility of categorizing your work into projects is one of the benefits of using RStudio. Within a project, everything is related to the .Rproj file. So, if you share the project with someone else, they only have to open the .Rproj file to access and run any code from the project.",
    "crumbs": [
      "Exercise 1"
    ]
  },
  {
    "objectID": "exercises/exercise1.html#section-8",
    "href": "exercises/exercise1.html#section-8",
    "title": "Exercise 1",
    "section": "",
    "text": "Open the R script notebook.R\nYou can download a ZIP archive containing notebook.R here.",
    "crumbs": [
      "Exercise 1"
    ]
  },
  {
    "objectID": "exercises/exercise1.html#section-9",
    "href": "exercises/exercise1.html#section-9",
    "title": "Exercise 1",
    "section": "",
    "text": "Have a look at the code in the script and make sure that you understand what it does.",
    "crumbs": [
      "Exercise 1"
    ]
  },
  {
    "objectID": "exercises/exercise1.html#section-10",
    "href": "exercises/exercise1.html#section-10",
    "title": "Exercise 1",
    "section": "",
    "text": "Compile the script as an HTML file\nClick on the  icon and select “HTML” as the output format.\nThe benefit of using HTML as an output format lies in the dimensional properties of a web-page. Especially when dealing with long code files, large output from analyses, or many figures, exporting your file as HTML is much more convenient than using paginated output formats (e.g., MS Word, PDF). With HTML output, you can simply scroll down or up to any part of the document, instead of flipping through pages back and forth to compare code, graphs, or output.",
    "crumbs": [
      "Exercise 1"
    ]
  },
  {
    "objectID": "exercises/exercise1.html#section-11",
    "href": "exercises/exercise1.html#section-11",
    "title": "Exercise 1",
    "section": "",
    "text": "Inspect the HTML file you have created\nThe notebook feature in RStudio is very convenient; it runs any R code and converts the results into a readable file where code and output are both visible. There is, however, an even better format for integrating R code with text into a single document: markdown!",
    "crumbs": [
      "Exercise 1"
    ]
  },
  {
    "objectID": "exercises/exercise1.html#about-quarto-markdown",
    "href": "exercises/exercise1.html#about-quarto-markdown",
    "title": "Exercise 1",
    "section": "About Quarto markdown",
    "text": "About Quarto markdown\nQuarto is a tool for creating documents that combine code, results, and narrative text in one file. Like Jupyter notebooks, Quarto markdown documents provide a cleaner, more professional, more reproducible way to publish analyses compared to plain code scripts.\n\nOpen the file markdown.qmd\nYou can download a ZIP archive containing markdown.qmd here\nHave a look at the code in the markdown.qmd file and make sure that you understand what’s going on.\n\nCompile the Quarto document into an HTML file\n\nClick the  button to compile the file into an HTML document.\n\nIf necessary, install the required packages.\n\nInspect the HTML file and compare it to the one you created from the notebook.R file.\n\nIn the rest of this course, you will need to complete and submit exercises and assignments. The notebook functionality is a convenient way to quickly compile code and output into a quick-and-dirty report that you can discuss with others. The rmarkdown functionality in RStudio, on the other hand, is a well-polished production device to mark-up high quality documents where text and code/output are woven together.\n\nPlease use Quarto markdown to prepare your work for this course, and submit both the qmd and HTML files whenever you need to hand in exercises or assignments.\n\n\nEnd of Exercise 1",
    "crumbs": [
      "Exercise 1"
    ]
  },
  {
    "objectID": "exercises/exercise1.html#section-12",
    "href": "exercises/exercise1.html#section-12",
    "title": "Exercise 1",
    "section": "",
    "text": "Open the file markdown.qmd\nYou can download a ZIP archive containing markdown.qmd here\nHave a look at the code in the markdown.qmd file and make sure that you understand what’s going on.",
    "crumbs": [
      "Exercise 1"
    ]
  },
  {
    "objectID": "exercises/exercise1.html#section-13",
    "href": "exercises/exercise1.html#section-13",
    "title": "Exercise 1",
    "section": "",
    "text": "Compile the Quarto document into an HTML file\n\nClick the  button to compile the file into an HTML document.\n\nIf necessary, install the required packages.\n\nInspect the HTML file and compare it to the one you created from the notebook.R file.\n\nIn the rest of this course, you will need to complete and submit exercises and assignments. The notebook functionality is a convenient way to quickly compile code and output into a quick-and-dirty report that you can discuss with others. The rmarkdown functionality in RStudio, on the other hand, is a well-polished production device to mark-up high quality documents where text and code/output are woven together.\n\nPlease use Quarto markdown to prepare your work for this course, and submit both the qmd and HTML files whenever you need to hand in exercises or assignments.\n\n\nEnd of Exercise 1",
    "crumbs": [
      "Exercise 1"
    ]
  },
  {
    "objectID": "exercises/exercise3.html",
    "href": "exercises/exercise3.html",
    "title": "Exercise 3",
    "section": "",
    "text": "Begin this practical by setting the maximum line length in R-Studio to 80 characters.\n\nGo to Preferences (or Global Options under Tools) –&gt; Code –&gt; Display.\nTick the Show margin box.\nSet the Margin column to 80.\n\n\n\nData I/O\n\nInstall the mice package\nUse the install.packages() function to install the the mice package.\n\nLoad the mice package\nUse the library() function to load the mice package.\n\nView the mammalsleep data\nMost packages have datasets included. Open the mammalsleep dataset from the mice package in two ways:\n\nBy evaluating its name, mammalsleep, directly\nBy using the View() function\n\n\nWrite the mammalsleep dataset to disk\nSave the mammalsleep dataset that you viewed above to your working directory.\n\nSave the data as a tab-delimited text file.\nUse the . character as the decimal separator.\nName the file mammalsleep.txt\n\n\nRead the mammalsleep.txt file from disk\nRead in the data that you just saved to disk and save it as a new R object called sleepdata.\n\n\n\nWorking with Data\n\nExplore the data\nThe dataset you’ve just imported contains the sleep data from Allison and Cicchetti (1976).\n\nExplore these data, and familiarize yourself with the characteristics of the dataset.\n\n\nSubset the data\nSome animals were not used by Allison and Cicchetti (1976).\n\nExclude the following animals from sleepdata:\n\nEchidna\nLesser short-tailed shrew\nMusk shrew\n\nSave the dataset as sleepdata2\n\n\n\nPlot brain weight as a function of species\n\nUse the sleepdata2 dataset and base R graphics routines to create a plot of brain weight against species.\n\n\nConditional case selection\n\nSome animals have much heavier brains than other animals. Find the names of all animals that have a brain weight larger than 1 standard deviation above the mean brain weight.\nPlot of big-brained animals\nReplicate the plot from @cref-plot with only the animals you flagged in @cref-flag\n\nDo not plot any information about the other animals.\n\n\n\n\nWorkspace I/O\n\n\nSave the current workspace\n\nNow that we have imported some data and done some analyses and data manipulations, we may want to save the current workspace (i.e. the current state of our R session). Saving the workspace will save everything in the R session exactly as it exists at the moment of saving. So, we can easily continue from this exact state at a later time. All we need to do is re-load the saved workspace file.\nUse the save.image() function to save the entirety of the current workspace.\n\nName the workspace image practical3.RData.\n\nAlso, use the save() function to save the sleepdata dataset as a separate workspace.\n\nName this workspace sleepdata.RData.\n\n\nClear the workspace\nRun the following command to clear the workspace.\n\nrm(list = ls(all = TRUE))\n\nThis is a very handy line of code to memorize. It will clear nearly everything from your current workspace. If you’re curious about how it does so, check the help files for the rm() and ls() functions.\nLoad a saved workspace\nUse the load() function to load the practical3.RData workspace that you saved in @cref-save.\n\nLoad a saved dataset\n\nUse the rm() function to remove the sleepdata dataset from the environment.\nUse the load() function to reload the sleepdata dataset from the sleepdata.RData workspace you saved in @cref-save\n\n\nA better way to read/write R data objects\nYou may have noticed that when you load a dataset with read.table(), you assign the result to a new R object. However, when you load a dataset saved as a workspace using the load() function, you cannot rename the resulting R object.\nWhen saving an R object with the save() function and loading it with the load() function, the object keeps the name it had when saved. When saving and loading individual data objects, this behavior is rarely desirable.\nThe saveRDS() and readRDS() functions allow us to save and load R objects in R Data Set (RDS) format.\n\nObjects stored in RDS format do not keep their original names.\nWe have to give the saved object to a new name when we load it with the readRDS() function.\nThis workflow is more transparent than the behavior of save() and load() and better follows the R philosophy of assigning values to objects.\n\nIf you need to save individual R objects (i.e., not an entire workspace image), you should probably save them as RDS files and not RData workspaces.\n\nUse the saveRDS() function to save the sleepdata object as sleepdata.rds.\nUse the readRDS() function to load the sleepdata.rds file and assign it to the sleepdata4 object.\n\n\n\n\nA Useful Package for Data I/O\n\nIf R is not (yet) your preferred data-analysis software, you are probably accustomed to processing your data in some other software and storing data in formats other than RData or RDS. In R, there are many facilities for importing and exporting data with diverse formats.\nHere, I want to specifically highlight the haven package written by Hadley Wickham. The haven package provides many useful functions to import and export data from software such as Stata, SAS, and SPSS.\n\nEnd of Exercise 3\n\n\n\n\n—  Copyright Hanne Oberman, 2025 - CC BY-NC-SA 4.0  Materials developed by Amices team - Methodology & Statistics - Utrecht University",
    "crumbs": [
      "Exercise 3"
    ]
  },
  {
    "objectID": "exercises/exercise3.html#section",
    "href": "exercises/exercise3.html#section",
    "title": "Exercise 3",
    "section": "",
    "text": "Install the mice package\nUse the install.packages() function to install the the mice package.\n\ninstall.packages(\"mice\")\n\n\nIf all went well, you will receive a message in the console telling you that the package has been installed.",
    "crumbs": [
      "Exercise 3"
    ]
  },
  {
    "objectID": "exercises/exercise3.html#section-1",
    "href": "exercises/exercise3.html#section-1",
    "title": "Exercise 3",
    "section": "",
    "text": "Load the mice package\nUse the library() function to load the mice package.\n\nlibrary(mice)\n\n\n\nInstalling the package only makes the package available on your machine.\nYou have to load the package every time you want to use it in a new R session.",
    "crumbs": [
      "Exercise 3"
    ]
  },
  {
    "objectID": "exercises/exercise3.html#section-2",
    "href": "exercises/exercise3.html#section-2",
    "title": "Exercise 3",
    "section": "",
    "text": "View the mammalsleep data\nMost packages have datasets included. Open the mammalsleep dataset from the mice package in two ways:\n\nBy evaluating its name, mammalsleep, directly\nBy using the View() function\n\n\n## I'm not actually running these lines because the results would clutter \n## this document too much.\nmammalSleep\nView(mammalSleep)\n\n\nUsing View() is preferred for inspecting large datasets because View() opens the dataset in a spreadsheet-like window.",
    "crumbs": [
      "Exercise 3"
    ]
  },
  {
    "objectID": "exercises/exercise3.html#section-3",
    "href": "exercises/exercise3.html#section-3",
    "title": "Exercise 3",
    "section": "",
    "text": "Write the mammalsleep dataset to disk\nSave the mammalsleep dataset that you viewed above to your working directory.\n\nSave the data as a tab-delimited text file.\nUse the . character as the decimal separator.\nName the file mammalsleep.txt\n\n\nwrite.table(mammalsleep, \n            file = \"mammalsleep.txt\", \n            sep = \"\\t\", \n            dec = \".\", \n            row.names = FALSE)\n\n\n\nThe command sep = \"\\t\" creates a tab-delimited file\nThe command dec = \".\" specifies the . character as the decimal seperator (instead of a comma).\nThe command row.names = FALSE tells R not to include row names in the exported file.",
    "crumbs": [
      "Exercise 3"
    ]
  },
  {
    "objectID": "exercises/exercise3.html#section-4",
    "href": "exercises/exercise3.html#section-4",
    "title": "Exercise 3",
    "section": "",
    "text": "Read the mammalsleep.txt file from disk\nRead in the data that you just saved to disk and save it as a new R object called sleepdata.\n\nsleepdata &lt;- read.table(\"mammalsleep.txt\", \n                        sep = \"\\t\", \n                        dec = \".\", \n                        header = TRUE, \n                        stringsAsFactors = TRUE)\n\n\n\nThe command sep = \"\\t\" indicates that the file is tab-delimited\nThe command dec = \".\" indicates that a . is used as the decimal seperator\nThe command header = TRUE tells R that the first row of data contains the variable names\nThe stringsAsFactors = TRUE command will automatically convert any character variables to factors\n\nYou can read files that live in the working directory by specifying only the file name (with the file extension). To read files that live in any other location, you need to specify the full file path (either relative to the working directory or an absolute path). To find the current working directory, you can run getwd(). To change the working directory, you can use setwd(). One benefit of using RStudio projects is that the working directory is automatically set to the main project directory.\nThere are many packages that facilitate data I/O from other statistical software packages such as:\n\nSPSS (e.g. read_spss() from the haven package)\nMplus (routines in the MplusAutomation package)\nStata (read.dta() in the foreign package)\nSAS (sasxport.get() from the Hmisc package)\n\nThere are also packages to read data from spreadsheet software such as MS Excel (read.xlsx() from the xlsx package).\nFor a short guide on importing multiple file formats into R, see this page.",
    "crumbs": [
      "Exercise 3"
    ]
  },
  {
    "objectID": "exercises/exercise3.html#section-5",
    "href": "exercises/exercise3.html#section-5",
    "title": "Exercise 3",
    "section": "",
    "text": "Explore the data\nThe dataset you’ve just imported contains the sleep data from Allison and Cicchetti (1976).\n\nExplore these data, and familiarize yourself with the characteristics of the dataset.\n\n\nThere is no completely right or wrong way to go about exploring a dataset, but the following commands represent some potential options.\n\n\n## Call up the documentation for the original dataset in the mice package:\n?mammalsleep\n\n\n## Show the data structure:\nstr(sleepdata)\n\n'data.frame':   62 obs. of  11 variables:\n $ species: Factor w/ 62 levels \"African elephant\",..: 1 2 3 4 5 6 7 8 9 10 ...\n $ bw     : num  6654 1 3.38 0.92 2547 ...\n $ brw    : num  5712 6.6 44.5 5.7 4603 ...\n $ sws    : num  NA 6.3 NA NA 2.1 9.1 15.8 5.2 10.9 8.3 ...\n $ ps     : num  NA 2 NA NA 1.8 0.7 3.9 1 3.6 1.4 ...\n $ ts     : num  3.3 8.3 12.5 16.5 3.9 9.8 19.7 6.2 14.5 9.7 ...\n $ mls    : num  38.6 4.5 14 NA 69 27 19 30.4 28 50 ...\n $ gt     : num  645 42 60 25 624 180 35 392 63 230 ...\n $ pi     : int  3 3 1 5 3 4 1 4 1 1 ...\n $ sei    : int  5 1 1 2 5 4 1 5 2 1 ...\n $ odi    : int  3 3 1 3 4 4 1 4 1 1 ...\n\n## Show summaries of the univariate distributions:\nsummary(sleepdata)\n\n                      species         bw                brw         \n African elephant         : 1   Min.   :   0.005   Min.   :   0.14  \n African giant pouched rat: 1   1st Qu.:   0.600   1st Qu.:   4.25  \n Arctic Fox               : 1   Median :   3.342   Median :  17.25  \n Arctic ground squirrel   : 1   Mean   : 198.790   Mean   : 283.13  \n Asian elephant           : 1   3rd Qu.:  48.203   3rd Qu.: 166.00  \n Baboon                   : 1   Max.   :6654.000   Max.   :5712.00  \n (Other)                  :56                                       \n      sws               ps              ts             mls         \n Min.   : 2.100   Min.   :0.000   Min.   : 2.60   Min.   :  2.000  \n 1st Qu.: 6.250   1st Qu.:0.900   1st Qu.: 8.05   1st Qu.:  6.625  \n Median : 8.350   Median :1.800   Median :10.45   Median : 15.100  \n Mean   : 8.673   Mean   :1.972   Mean   :10.53   Mean   : 19.878  \n 3rd Qu.:11.000   3rd Qu.:2.550   3rd Qu.:13.20   3rd Qu.: 27.750  \n Max.   :17.900   Max.   :6.600   Max.   :19.90   Max.   :100.000  \n NA's   :14       NA's   :12      NA's   :4       NA's   :4        \n       gt               pi             sei             odi       \n Min.   : 12.00   Min.   :1.000   Min.   :1.000   Min.   :1.000  \n 1st Qu.: 35.75   1st Qu.:2.000   1st Qu.:1.000   1st Qu.:1.000  \n Median : 79.00   Median :3.000   Median :2.000   Median :2.000  \n Mean   :142.35   Mean   :2.871   Mean   :2.419   Mean   :2.613  \n 3rd Qu.:207.50   3rd Qu.:4.000   3rd Qu.:4.000   3rd Qu.:4.000  \n Max.   :645.00   Max.   :5.000   Max.   :5.000   Max.   :5.000  \n NA's   :4                                                       \n\n## Show (rounded) bivariate correlations (excluding the ID column):\nround(cor(sleepdata[, -1], use = \"pairwise.complete.obs\"), 2) \n\n       bw   brw   sws    ps    ts   mls    gt    pi   sei   odi\nbw   1.00  0.93 -0.38 -0.11 -0.31  0.30  0.65  0.06  0.34  0.13\nbrw  0.93  1.00 -0.37 -0.11 -0.36  0.51  0.75  0.03  0.37  0.15\nsws -0.38 -0.37  1.00  0.51  0.96 -0.38 -0.59 -0.32 -0.54 -0.48\nps  -0.11 -0.11  0.51  1.00  0.73 -0.30 -0.45 -0.45 -0.54 -0.58\nts  -0.31 -0.36  0.96  0.73  1.00 -0.41 -0.63 -0.40 -0.64 -0.59\nmls  0.30  0.51 -0.38 -0.30 -0.41  1.00  0.61 -0.10  0.36  0.06\ngt   0.65  0.75 -0.59 -0.45 -0.63  0.61  1.00  0.20  0.64  0.38\npi   0.06  0.03 -0.32 -0.45 -0.40 -0.10  0.20  1.00  0.62  0.92\nsei  0.34  0.37 -0.54 -0.54 -0.64  0.36  0.64  0.62  1.00  0.79\nodi  0.13  0.15 -0.48 -0.58 -0.59  0.06  0.38  0.92  0.79  1.00\n\n## Show the first six rows:\nhead(sleepdata)\n\n                    species       bw    brw sws  ps   ts  mls  gt pi sei odi\n1          African elephant 6654.000 5712.0  NA  NA  3.3 38.6 645  3   5   3\n2 African giant pouched rat    1.000    6.6 6.3 2.0  8.3  4.5  42  3   1   3\n3                Arctic Fox    3.385   44.5  NA  NA 12.5 14.0  60  1   1   1\n4    Arctic ground squirrel    0.920    5.7  NA  NA 16.5   NA  25  5   2   3\n5            Asian elephant 2547.000 4603.0 2.1 1.8  3.9 69.0 624  3   5   4\n6                    Baboon   10.550  179.5 9.1 0.7  9.8 27.0 180  4   4   4\n\n## Show the last six rows:\ntail(sleepdata)\n\n                 species    bw  brw  sws  ps   ts  mls  gt pi sei odi\n57                Tenrec 0.900  2.6 11.0 2.3 13.3  4.5  60  2   1   2\n58            Tree hyrax 2.000 12.3  4.9 0.5  5.4  7.5 200  3   1   3\n59            Tree shrew 0.104  2.5 13.2 2.6 15.8  2.3  46  3   2   2\n60                Vervet 4.190 58.0  9.7 0.6 10.3 24.0 210  4   3   4\n61         Water opossum 3.500  3.9 12.8 6.6 19.4  3.0  14  2   1   1\n62 Yellow-bellied marmot 4.050 17.0   NA  NA   NA 13.0  38  3   1   1\n\n\n\nSince mammalsleep is an R dataset, it should have a help file. The documentation for the mammalsleep dataset may yield valuable insight about the origin of the data and the variables included therein.\nThe functions head() and tail() are very useful. If something went from with reading the data, you can often tell very quickly by looking at the first or last rows (do they look like you expected)?\nThe str function is a good way to get a quick overview of the measurement levels in a dataset.\n\nNotice how the information returned by the str() function looks very similar to the information you see in RStudio’s Environment tab.\nThe Environment tab is simply reporting the results of the str() function in a pretty format.\n\nNotice that sleepdata is a data frame. The read.table() function will return the data it reads as a data frame.\nOne thing that may have caught your attention is the relation between ts, ps and sws. This relation is deterministic: total sleep (ts) is the sum of paradoxical sleep (ps) and short-wave sleep (sws). If you were to model these data, you would need to account for such relations in your analysis.",
    "crumbs": [
      "Exercise 3"
    ]
  },
  {
    "objectID": "exercises/exercise3.html#section-6",
    "href": "exercises/exercise3.html#section-6",
    "title": "Exercise 3",
    "section": "",
    "text": "Subset the data\nSome animals were not used by Allison and Cicchetti (1976).\n\nExclude the following animals from sleepdata:\n\nEchidna\nLesser short-tailed shrew\nMusk shrew\n\nSave the dataset as sleepdata2\n\n\nThere are at least three ways to exclude these animals from the dataset.\nThe first two approaches both require us to use the species variable to create a logical vector flagging the rows to drop.\n\n\nexclusions &lt;- sleepdata$species %in% \n  c(\"Echidna\", \"Lesser short-tailed shrew\", \"Musk shrew\")\n\n\n\nThe first approach uses standard, base R subsetting procedures:\n\n\n\n## Negate the logical vector to select all rows other than the exclusions:\nsleepdata2 &lt;- sleepdata[!exclusions, ]\n\n\n\nThe second approach uses the filter() function from the dplyr package:\n\n\n\nlibrary(dplyr)\nsleepdata2 &lt;- filter(sleepdata, !exclusions)\n\n\n\nThe third approach uses the row numbers directly\n\nYou will need to manually figure out which row numbers you want to exclude\n\n\n\n\nsleepdata2 &lt;- sleepdata[-c(16, 32, 38), ]\n\n\nNote that the row number option requires less code, but the first two options have much lower probabilities for error.\n\nIf the dataset changes or the rows are sorted differently, the row number option may not work correctly (i.e., you’d exclude the wrong cases).\nSince you find the rows programatically in the first two options, they are much more robust to changes in the data.",
    "crumbs": [
      "Exercise 3"
    ]
  },
  {
    "objectID": "exercises/exercise3.html#plotQ",
    "href": "exercises/exercise3.html#plotQ",
    "title": "Exercise 3",
    "section": "",
    "text": "Plot brain weight as a function of species\nUse the sleepdata2 dataset and base R graphics routines to create a plot of brain weight against species.\n\nplot(brw ~ species, data = sleepdata2)",
    "crumbs": [
      "Exercise 3"
    ]
  },
  {
    "objectID": "exercises/exercise3.html#flagQ",
    "href": "exercises/exercise3.html#flagQ",
    "title": "Exercise 3",
    "section": "",
    "text": "Conditional case selection\nSome animals have much heavier brains than other animals. Find the names of all animals that have a brain weight larger than 1 standard deviation above the mean brain weight.\n\n## Create a logical vector flagging the rows with extreme brain weights:\nbigBrains &lt;- sleepdata2$brw &gt; (mean(sleepdata2$brw) + sd(sleepdata2$brw))\n\n## Extract the names from any row flagged by the above vector:\nas.character(sleepdata2$species[bigBrains])\n\n[1] \"African elephant\" \"Asian elephant\"   \"Man\"",
    "crumbs": [
      "Exercise 3"
    ]
  },
  {
    "objectID": "exercises/exercise3.html#section-7",
    "href": "exercises/exercise3.html#section-7",
    "title": "Exercise 3",
    "section": "",
    "text": "Plot of big-brained animals\nReplicate the plot from Question @ref(plotQ) with only the animals you flagged in Question @ref(flagQ).\n\nDo not plot any information about the other animals.\n\n\nA naive attempt may simply try to run the same plotting code with a subset of the data.\n\n\nplot(brw ~ species, data = sleepdata2[bigBrains, ])\n\n\n\n\n\n\n\n\n\nThe downside to this approach is that it still includes all animals on the x-axis. The original factor labels for species remain unchanged in the subset of the original data.\n\n\nlevels(sleepdata2$species[bigBrains])\n\n [1] \"African elephant\"          \"African giant pouched rat\"\n [3] \"Arctic Fox\"                \"Arctic ground squirrel\"   \n [5] \"Asian elephant\"            \"Baboon\"                   \n [7] \"Big brown bat\"             \"Brazilian tapir\"          \n [9] \"Cat\"                       \"Chimpanzee\"               \n[11] \"Chinchilla\"                \"Cow\"                      \n[13] \"Desert hedgehog\"           \"Donkey\"                   \n[15] \"Eastern American mole\"     \"Echidna\"                  \n[17] \"European hedgehog\"         \"Galago\"                   \n[19] \"Genet\"                     \"Giant armadillo\"          \n[21] \"Giraffe\"                   \"Goat\"                     \n[23] \"Golden hamster\"            \"Gorilla\"                  \n[25] \"Gray seal\"                 \"Gray wolf\"                \n[27] \"Ground squirrel\"           \"Guinea pig\"               \n[29] \"Horse\"                     \"Jaguar\"                   \n[31] \"Kangaroo\"                  \"Lesser short-tailed shrew\"\n[33] \"Little brown bat\"          \"Man\"                      \n[35] \"Mole rat\"                  \"Mountain beaver\"          \n[37] \"Mouse\"                     \"Musk shrew\"               \n[39] \"N. American opossum\"       \"Nine-banded armadillo\"    \n[41] \"Okapi\"                     \"Owl monkey\"               \n[43] \"Patas monkey\"              \"Phanlanger\"               \n[45] \"Pig\"                       \"Rabbit\"                   \n[47] \"Raccoon\"                   \"Rat\"                      \n[49] \"Red fox\"                   \"Rhesus monkey\"            \n[51] \"Rock hyrax (Hetero. b)\"    \"Rock hyrax (Procavia hab)\"\n[53] \"Roe deer\"                  \"Sheep\"                    \n[55] \"Slow loris\"                \"Star nosed mole\"          \n[57] \"Tenrec\"                    \"Tree hyrax\"               \n[59] \"Tree shrew\"                \"Vervet\"                   \n[61] \"Water opossum\"             \"Yellow-bellied marmot\"    \n\n\n\nThe plot() function uses all 62 factor levels to generate the x-axis even though 59 levels are empty.\nTo get rid of the unused factor levels, we can use the factor() function.\n\n\nsleepdata3 &lt;- sleepdata2[bigBrains, ]\nsleepdata3$species &lt;- factor(sleepdata3$species)\nlevels(sleepdata3$species)\n\n[1] \"African elephant\" \"Asian elephant\"   \"Man\"             \n\n\n\nNow we can create the plot that we wanted:\n\n\nplot(brw ~ species, data = sleepdata3)",
    "crumbs": [
      "Exercise 3"
    ]
  },
  {
    "objectID": "exercises/exercise3.html#saveQ",
    "href": "exercises/exercise3.html#saveQ",
    "title": "Exercise 3",
    "section": "",
    "text": "Save the current workspace\nNow that we have imported some data and done some analyses and data manipulations, we may want to save the current workspace (i.e. the current state of our R session). Saving the workspace will save everything in the R session exactly as it exists at the moment of saving. So, we can easily continue from this exact state at a later time. All we need to do is re-load the saved workspace file.\nUse the save.image() function to save the entirety of the current workspace.\n\nName the workspace image practical3.RData.\n\nAlso, use the save() function to save the sleepdata dataset as a separate workspace.\n\nName this workspace sleepdata.RData.\n\n\nsave.image(\"practical3.RData\")\nsave(sleepdata, file = \"sleepdata.RData\")",
    "crumbs": [
      "Exercise 3"
    ]
  },
  {
    "objectID": "exercises/exercise3.html#section-8",
    "href": "exercises/exercise3.html#section-8",
    "title": "Exercise 3",
    "section": "",
    "text": "Clear the workspace\nRun the following command to clear the workspace.\n\nrm(list = ls(all = TRUE))\n\nThis is a very handy line of code to memorize. It will clear nearly everything from your current workspace. If you’re curious about how it does so, check the help files for the rm() and ls() functions.",
    "crumbs": [
      "Exercise 3"
    ]
  },
  {
    "objectID": "exercises/exercise3.html#section-9",
    "href": "exercises/exercise3.html#section-9",
    "title": "Exercise 3",
    "section": "",
    "text": "Load a saved workspace\nUse the load() function to load the practical3.RData workspace that you saved in Question @ref(saveQ).\n\nload(\"practical3.RData\")",
    "crumbs": [
      "Exercise 3"
    ]
  },
  {
    "objectID": "exercises/exercise3.html#section-10",
    "href": "exercises/exercise3.html#section-10",
    "title": "Exercise 3",
    "section": "",
    "text": "Load a saved dataset\n\nUse the rm() function to remove the sleepdata dataset from the environment.\nUse the load() function to reload the sleepdata dataset from the sleepdata.RData workspace you saved in Question @ref(saveQ).\n\n\nrm(sleepdata)\nload(\"sleepdata.RData\")",
    "crumbs": [
      "Exercise 3"
    ]
  },
  {
    "objectID": "exercises/exercise3.html#section-11",
    "href": "exercises/exercise3.html#section-11",
    "title": "Exercise 3",
    "section": "",
    "text": "A better way to read/write R data objects\nYou may have noticed that when you load a dataset with read.table(), you assign the result to a new R object. However, when you load a dataset saved as a workspace using the load() function, you cannot rename the resulting R object.\nWhen saving an R object with the save() function and loading it with the load() function, the object keeps the name it had when saved. When saving and loading individual data objects, this behavior is rarely desirable.\nThe saveRDS() and readRDS() functions allow us to save and load R objects in R Data Set (RDS) format.\n\nObjects stored in RDS format do not keep their original names.\nWe have to give the saved object to a new name when we load it with the readRDS() function.\nThis workflow is more transparent than the behavior of save() and load() and better follows the R philosophy of assigning values to objects.\n\nIf you need to save individual R objects (i.e., not an entire workspace image), you should probably save them as RDS files and not RData workspaces.\n\nUse the saveRDS() function to save the sleepdata object as sleepdata.rds.\nUse the readRDS() function to load the sleepdata.rds file and assign it to the sleepdata4 object.\n\n\nsaveRDS(sleepdata, \"sleepdata.rds\")\nsleepdat4 &lt;- readRDS(\"sleepdata.rds\")",
    "crumbs": [
      "Exercise 3"
    ]
  },
  {
    "objectID": "exercises/markdown.html",
    "href": "exercises/markdown.html",
    "title": "Exercises in Markdown",
    "section": "",
    "text": "Create an object a with value 1\n\n\na &lt;- 1\n\n\n\nVerify that 1 is stored in a\n\n\na\n\n[1] 1\n\n\n\n\nSquare a\n\n\na^2\n\n[1] 1\n\n\n\n\nAssign a + a to the object b, and check if b is equal to a + a.\n\n\nb &lt;- a + a\nb == a + a\n\n[1] TRUE\n\n\n\n\n\n\n\nSquare b\nMultiply the answer by a over b\nAssign the result to c\nTake the square root of c to the power b\nMultiply the answer by a over (b to the power 6)\n\n\nc &lt;- b^2 * (a / b)\nsqrt(c^b) * (a / b^6)\n\n[1] 0.03125\n\n\n\n\nRound the answer from the previous question to 3 decimal places.\n\n\nround(sqrt(c^b) * (a / b^6), 3)\n\n[1] 0.031\n\n\nOR\n\nd &lt;- sqrt(c^b) * (a / b^6)\nround(d, 3)\n\n[1] 0.031\n\n\nDo you notice that the first solution is shorter, but the second is much more insightful? If you share your code—or plan to use it later on—clarity very important. A little effort now saves you hours later.\n\nNow, you know how to use R as a calculator and R Markdown for typesetting.\n\n\n\n—  Copyright Hanne Oberman, 2025 - CC BY-NC-SA 4.0  Materials developed by Amices team - Methodology & Statistics - Utrecht University"
  },
  {
    "objectID": "exercises/exercise2.html#sec-matrix",
    "href": "exercises/exercise2.html#sec-matrix",
    "title": "Exercise 2",
    "section": "1.4 ",
    "text": "1.4 \nMake a 6 \\(\\times\\) 2 matrix named mat3 from both vec1 and vec2\n\nUse vec1 to populate the first column\nUse vec2 to populate the second column\n\nInspect this matrix.\n\nmat3 &lt;- matrix(c(vec1, vec2), 6, 2)\nmat3\n\n     [,1] [,2]\n[1,] \"1\"  \"A\" \n[2,] \"2\"  \"B\" \n[3,] \"3\"  \"C\" \n[4,] \"4\"  \"D\" \n[5,] \"5\"  \"E\" \n[6,] \"6\"  \"F\" \n\n\n\nOR\n\n\nmat3b &lt;- cbind(vec1, vec2)\nmat3b\n\n     vec1 vec2\n[1,] \"1\"  \"A\" \n[2,] \"2\"  \"B\" \n[3,] \"3\"  \"C\" \n[4,] \"4\"  \"D\" \n[5,] \"5\"  \"E\" \n[6,] \"6\"  \"F\" \n\n\n\nAll elements in a matrix must have the same type. So, if one or more elements in the matrix are characters, all other elements are converted to characters.\nNotice that the second approach (using the column bind function, cbind()) returns a matrix with the column names set to the names of the bound objects.\nTo create a rectangular dataset that contains different types of data (e.g., both numeric and character variables), we can create a data frame. When working with real datasets (which often contain diverse data types), data frames are usually preferred over matrices. We only really use matrices when doing pure numerical calculation, such as in matrix algebra.",
    "crumbs": [
      "Exercise 2"
    ]
  },
  {
    "objectID": "exercises/exercise1_solutions.html",
    "href": "exercises/exercise1_solutions.html",
    "title": "Exercise 1",
    "section": "",
    "text": "In this exercise you will get acquainted with R and RStudio. RStudio adds many convenience features to the base R that you obtained from http://r-project.org. Most of these features go beyond the scope of this course, but some of them will flatten the learning curve of R programming.\nIf you have any questions, feel free to ask me or the workgroup instructor.\nOK. Let’s begin!\n—  Copyright Hanne Oberman, 2025 - CC BY-NC-SA 4.0  Materials developed by Amices team - Methodology & Statistics - Utrecht University"
  },
  {
    "objectID": "exercises/exercise1_solutions.html#about-quarto-markdown",
    "href": "exercises/exercise1_solutions.html#about-quarto-markdown",
    "title": "Exercise 1",
    "section": "About Quarto markdown",
    "text": "About Quarto markdown\nQuarto is a tool for creating documents that combine code, results, and narrative text in one file. Like Jupyter notebooks, Quarto markdown documents provide a cleaner, more professional, more reproducible way to publish analyses compared to plain code scripts.\n\nOpen the file markdown.qmd\nYou can download a ZIP archive containing markdown.qmd here\nHave a look at the code in the markdown.qmd file and make sure that you understand what’s going on.\n\nCompile the Quarto document into an HTML file\n\nClick the  button to compile the file into an HTML document.\n\nIf necessary, install the required packages.\n\nInspect the HTML file and compare it to the one you created from the notebook.R file.\n\nIn the rest of this course, you will need to complete and submit exercises and assignments. The notebook functionality is a convenient way to quickly compile code and output into a quick-and-dirty report that you can discuss with others. The rmarkdown functionality in RStudio, on the other hand, is a well-polished production device to mark-up high quality documents where text and code/output are woven together.\n\nPlease use Quarto markdown to prepare your work for this course, and submit both the qmd and HTML files whenever you need to hand in exercises or assignments.\n\n\nEnd of Exercise 1"
  },
  {
    "objectID": "exercises/exercise2_solutions.html",
    "href": "exercises/exercise2_solutions.html",
    "title": "Exercise 2",
    "section": "",
    "text": "In this practical, you will play around with the different types of R objects.\n\n\n1 Creating Data Objects\n\nCreate two vectors\n\nOne named vec1 containing the integers 1 through 6\nOne named vec2 with letters A through F\n\n\nvec1 &lt;- c(1, 2, 3, 4, 5, 6)\nvec2 &lt;- c(\"A\", \"B\", \"C\", \"D\", \"E\", \"F\")\n\n\nWe can use concatenation function, c(), to create a vector. A vector is just a series of numbers, letters, or other data elements. An alternative solution is vec1 &lt;- 1:6 vec2 &lt;- LETTERS[1:6]\n\n\nCreate two matrices\n\nOne named mat1 from vec1\nOne named mat2 from vec2\n\nDefine both matrices to have 3 rows and 2 columns.\n\nmat1 &lt;- matrix(vec1, nrow = 3, ncol = 2)\nmat2 &lt;- matrix(vec2, nrow = 3, ncol = 2)\n\n\nWe can use the matrix() function to create a matrix. When we create a matrix, we need to specify the dimensions (in this case 3 \\(\\times\\) 2).\n\n\nInspect vec1, vec2, mat1, and mat2\nAre they all numeric?\n\nvec1\n\n[1] 1 2 3 4 5 6\n\nvec2\n\n[1] \"A\" \"B\" \"C\" \"D\" \"E\" \"F\"\n\nmat1\n\n     [,1] [,2]\n[1,]    1    4\n[2,]    2    5\n[3,]    3    6\n\nmat2\n\n     [,1] [,2]\n[1,] \"A\"  \"D\" \n[2,] \"B\"  \"E\" \n[3,] \"C\"  \"F\" \n\n\n\nNo. vec1 and mat1 contain numbers, but vec2 and mat2 contain characters.\n\n\n\n\n\nMake a 6 \\(\\times\\) 2 matrix named mat3 from both vec1 and vec2\n\n\n 1\n\n\n\n\nUse vec1 to populate the first column\nUse vec2 to populate the second column\n\nInspect this matrix.\n\nmat3 &lt;- matrix(c(vec1, vec2), 6, 2)\nmat3\n\n     [,1] [,2]\n[1,] \"1\"  \"A\" \n[2,] \"2\"  \"B\" \n[3,] \"3\"  \"C\" \n[4,] \"4\"  \"D\" \n[5,] \"5\"  \"E\" \n[6,] \"6\"  \"F\" \n\n\n\nOR\n\n\nmat3b &lt;- cbind(vec1, vec2)\nmat3b\n\n     vec1 vec2\n[1,] \"1\"  \"A\" \n[2,] \"2\"  \"B\" \n[3,] \"3\"  \"C\" \n[4,] \"4\"  \"D\" \n[5,] \"5\"  \"E\" \n[6,] \"6\"  \"F\" \n\n\n\nAll elements in a matrix must have the same type. So, if one or more elements in the matrix are characters, all other elements are converted to characters.\nNotice that the second approach (using the column bind function, cbind()) returns a matrix with the column names set to the names of the bound objects.\nTo create a rectangular dataset that contains different types of data (e.g., both numeric and character variables), we can create a data frame. When working with real datasets (which often contain diverse data types), data frames are usually preferred over matrices. We only really use matrices when doing pure numerical calculation, such as in matrix algebra.\n\n\n\n\n\nMake a two-column data frame called dat3\n\n\n 2\n\n\n\n\nUse function data.frame().\nSet vec1 and vec2 as the columns.\nName the columns v1 and v2, respectively.\n\n\ndat3 &lt;- data.frame(v1 = vec1, v2 = vec2)\ndat3\n\n  v1 v2\n1  1  A\n2  2  B\n3  3  C\n4  4  D\n5  5  E\n6  6  F\n\n\n\n\n\n2 Data Manipulation\n\n\n\n\nMake a 2-column data frame called dat3b\n\n\n 3\n\n\n\n\nUse the as.data.frame() function with the matrix created in  1 as input.\nSet the argument stringsAsFactors = TRUE.\nName the columns v1 and v2, respectively.\n\nAre the types of the v1 and v2 columns the same as the types of vec1 and vec2, respectively?\n\ndat3b &lt;- as.data.frame(mat3, stringsAsFactors = TRUE)\n(colnames(dat3b) &lt;- c(\"v1\", \"v2\"))\n\n[1] \"v1\" \"v2\"\n\n\n\nThis is a tricky situation. At face value, everything may seem fine, but, we need to be careful. The above code may not be doing what you expected. Because every element of mat3 is a character, we have lost the numeric nature of vec1.\n\n\nCheck if the first columns in the data frames from  2 and  3 are numeric\nIf these columns are not numeric, determine their type.\n\nis.numeric(dat3[, 1])\n\n[1] TRUE\n\nis.numeric(dat3b[, 1])\n\n[1] FALSE\n\n\n\nThe first column in dat3b (from  3 is not numeric. As a matter of fact, it is not a character vector, either.\n\n\nis.character(dat3b[, 1])\n\n[1] FALSE\n\n\n\nRather tricky; the function as.data.frame() has converted the first variable to a factor.\n\n\nis.factor(dat3b[, 1])\n\n[1] TRUE\n\n\n\nFactors are used to represent categorical variables. Character vectors are not converted to factors by default, but the argument stringsAsFactors = TRUE forces the conversion. Hopefully, you can now see that there is a difference between character vectors and factors. Now, you also know how to force the conversion from character vectors to factors when creating a data frame.\n\n\nSelect the following elements from the data frame you created in  2\n\nThe third row\nThe second column\nThe intersection of the above\n\n\ndat3[3, ] # 3rd row\n\n  v1 v2\n3  3  C\n\ndat3[, 2] # 2nd column\n\n[1] \"A\" \"B\" \"C\" \"D\" \"E\" \"F\"\n\ndat3$v2   # Also 2nd column\n\n[1] \"A\" \"B\" \"C\" \"D\" \"E\" \"F\"\n\ndat3[3, 2] # Intersection\n\n[1] \"C\"\n\n\n\nThe matrix-style subsetting operator, [ , ], is very useful in R. For matrices and data frames, the first number (before the comma) indexes rows and the second number (after the comma) indexes columns. Vectors don’t have dimensions, so we only need to provide one number for subsetting. For example, vec1[3] would yield 3. Try it.\nIn data frames, columns can also be extracted with the $ sign, but only if a name has been assigned to the column. If you do not name the columns of your data frame, R will assign default column names.\n\n\nInspect the structure of the data frame that you created in  2.\nThe structure function, str(), allows us to inspect the structure of an R object. Try using it here.\n\nstr(dat3)\n\n'data.frame':   6 obs. of  2 variables:\n $ v1: num  1 2 3 4 5 6\n $ v2: chr  \"A\" \"B\" \"C\" \"D\" ...\n\n\n\nInspecting the structure of your data is vital. If, when we start analyzing our data, we assume the wrong measurement level for some of our variables, we may run into serious problems. One frequent problem occurs when categorical variables are represented on the data as numeric vectors and not factors.\nNotice how the information returned by str() mirrors the information in RStudio’s environment pane. The environment pane is simply reported the ouptut from the str() function in a beautified format.\n\n\nLet’s pretend the first variable (v1) in the data frame you created in  2 (dat3) is not coded correctly, and it actually represents grouping information about cities.\nConvert the v1 variable into a factor with the levels:\n\nUtrecht\nNew York,\nLondon\nSingapore\nRome\nCape Town\n\n\ndat3$v1 &lt;- factor(\n  dat3$v1,\n  labels = c(\"Utrecht\", \"New York\", \"London\", \"Singapore\", \"Rome\", \"Cape Town\")\n  )\ndat3\n\n         v1 v2\n1   Utrecht  A\n2  New York  B\n3    London  C\n4 Singapore  D\n5      Rome  E\n6 Cape Town  F\n\n\n\n\n\n3 Working with Real Data\n\nLoad the workspace boys.RData\nYou can download the boys.RData workspace here.\n\nThere are a few ways to go about load workspaces that are available on the internet. We’ll use the boys.RData workspace to demonstrate.\n\nYou can download the boys.RData file via the link above and use the load() function to load it into your environment.\n\nNote that the following code assumes you have saved boys.RData in a subdirectory of your project folder callyed “data”.\n\n\n\n\n\nload(\"data/boys.RData\")\n\n\n\nYou can double-click the boys.RData file in your operating system’s file browser\n\nIf the file opens in R and not RStudio, you will need to right-click and select the menu option: “Open with” &gt; “RStudio”.\n\nYou can import workspaces directly from the internet by creating and loading a connection.\n\n\n\ncon &lt;- url(\"https://www.kylemlang.com/prepR/data/boys.RData\")\nload(con)\n\n\nIn the above code, we store the connection in the object con, and then we load the connection with load(con).\nAfter executing any of the above options, the boys object will be added to your Global Environment. You can then use the boys data in your analyses.\n\n\nMost R packages ship with datasets included (these datasets are most often used for examples to demonstrate the functionality of the package). Since you have not yet learned how to load packages, you get the boys data (which comes from the mice package) as a stand-alone workspace.\nView the boys dataset two ways\n\nBy executing boys in the console\nBy using the View() function\n\n\nboys\nView(boys)\n\n\nThe output is not displayed here as it is simply too large.\nUsing View() is preferred for inspecting all but the smallest datasets. View() shows the contents of the dataset in a spreadsheet-like window. View() is only or viewing the data; you can not edit the dataset’s contents through the window generated by View()..\n\n\nFind the dimensions of the boys dataset\n\ndim(boys)\n\n[1] 748   9\n\n\n\nThere are r nrow(boys) cases on r ncol(boys) variables.\n\nInspect the first 6 cases and the final 6 cases in the dataset\n\nboys[1:6, ]\n\n     age  hgt   wgt   bmi   hc  gen  phb tv   reg\n3  0.035 50.1 3.650 14.54 33.7 &lt;NA&gt; &lt;NA&gt; NA south\n4  0.038 53.5 3.370 11.77 35.0 &lt;NA&gt; &lt;NA&gt; NA south\n18 0.057 50.0 3.140 12.56 35.2 &lt;NA&gt; &lt;NA&gt; NA south\n23 0.060 54.5 4.270 14.37 36.7 &lt;NA&gt; &lt;NA&gt; NA south\n28 0.062 57.5 5.030 15.21 37.3 &lt;NA&gt; &lt;NA&gt; NA south\n36 0.068 55.5 4.655 15.11 37.0 &lt;NA&gt; &lt;NA&gt; NA south\n\nboys[743:748, ]\n\n        age   hgt  wgt   bmi   hc  gen  phb tv   reg\n7410 20.372 188.7 59.8 16.79 55.2 &lt;NA&gt; &lt;NA&gt; NA  west\n7418 20.429 181.1 67.2 20.48 56.6 &lt;NA&gt; &lt;NA&gt; NA north\n7444 20.761 189.1 88.0 24.60   NA &lt;NA&gt; &lt;NA&gt; NA  west\n7447 20.780 193.5 75.4 20.13   NA &lt;NA&gt; &lt;NA&gt; NA  west\n7451 20.813 189.0 78.0 21.83 59.9 &lt;NA&gt; &lt;NA&gt; NA north\n7475 21.177 181.8 76.5 23.14   NA &lt;NA&gt; &lt;NA&gt; NA  east\n\n\n\nOR\n\n\nhead(boys)\n\n     age  hgt   wgt   bmi   hc  gen  phb tv   reg\n3  0.035 50.1 3.650 14.54 33.7 &lt;NA&gt; &lt;NA&gt; NA south\n4  0.038 53.5 3.370 11.77 35.0 &lt;NA&gt; &lt;NA&gt; NA south\n18 0.057 50.0 3.140 12.56 35.2 &lt;NA&gt; &lt;NA&gt; NA south\n23 0.060 54.5 4.270 14.37 36.7 &lt;NA&gt; &lt;NA&gt; NA south\n28 0.062 57.5 5.030 15.21 37.3 &lt;NA&gt; &lt;NA&gt; NA south\n36 0.068 55.5 4.655 15.11 37.0 &lt;NA&gt; &lt;NA&gt; NA south\n\ntail(boys)\n\n        age   hgt  wgt   bmi   hc  gen  phb tv   reg\n7410 20.372 188.7 59.8 16.79 55.2 &lt;NA&gt; &lt;NA&gt; NA  west\n7418 20.429 181.1 67.2 20.48 56.6 &lt;NA&gt; &lt;NA&gt; NA north\n7444 20.761 189.1 88.0 24.60   NA &lt;NA&gt; &lt;NA&gt; NA  west\n7447 20.780 193.5 75.4 20.13   NA &lt;NA&gt; &lt;NA&gt; NA  west\n7451 20.813 189.0 78.0 21.83 59.9 &lt;NA&gt; &lt;NA&gt; NA north\n7475 21.177 181.8 76.5 23.14   NA &lt;NA&gt; &lt;NA&gt; NA  east\n\n\n\nThe functions head() and tail() are very useful. For example, by comparing the output from these functions, we can infer that the data are very likely sorted on age.\n\n\nCheck if the boys data are sorted on age\n\nTo verify if the data are sorted, we can use the is.unsorted() function to test the inverse of that statement.\nRemember that we can always search the help for functions. For example, we could have searched using ?sort or ??sorted and quickly found the function is.unsorted().\n\n\nis.unsorted(boys$age)\n\n[1] FALSE\n\n\n\nSince this function returns FALSE, we know that boys$age is sorted. To directly test if boys$age is sorted, we could have used:\n\n\n!is.unsorted(boys$age)\n\n[1] TRUE\n\n\n\nThis expression tests if boys$age is NOT unsorted, so the return value of TRUE tells us that boys$age is sorted.\n\n\nInspect the boys dataset with str()\n\nstr(boys)\n\n'data.frame':   748 obs. of  9 variables:\n $ age: num  0.035 0.038 0.057 0.06 0.062 0.068 0.068 0.071 0.071 0.073 ...\n $ hgt: num  50.1 53.5 50 54.5 57.5 55.5 52.5 53 55.1 54.5 ...\n $ wgt: num  3.65 3.37 3.14 4.27 5.03 ...\n $ bmi: num  14.5 11.8 12.6 14.4 15.2 ...\n $ hc : num  33.7 35 35.2 36.7 37.3 37 34.9 35.8 36.8 38 ...\n $ gen: Ord.factor w/ 5 levels \"G1\"&lt;\"G2\"&lt;\"G3\"&lt;..: NA NA NA NA NA NA NA NA NA NA ...\n $ phb: Ord.factor w/ 6 levels \"P1\"&lt;\"P2\"&lt;\"P3\"&lt;..: NA NA NA NA NA NA NA NA NA NA ...\n $ tv : int  NA NA NA NA NA NA NA NA NA NA ...\n $ reg: Factor w/ 5 levels \"north\",\"east\",..: 4 4 4 4 4 4 4 3 3 2 ...\n\n\n\nUse one or more functions to generate numeric summaries of each variable’s distribution\nAt least show the minimum, the maximum, the mean, and the median for all of the variables.\n\nsummary(boys)\n\n      age              hgt              wgt              bmi       \n Min.   : 0.035   Min.   : 50.00   Min.   :  3.14   Min.   :11.77  \n 1st Qu.: 1.581   1st Qu.: 84.88   1st Qu.: 11.70   1st Qu.:15.90  \n Median :10.505   Median :147.30   Median : 34.65   Median :17.45  \n Mean   : 9.159   Mean   :132.15   Mean   : 37.15   Mean   :18.07  \n 3rd Qu.:15.267   3rd Qu.:175.22   3rd Qu.: 59.58   3rd Qu.:19.53  \n Max.   :21.177   Max.   :198.00   Max.   :117.40   Max.   :31.74  \n                  NA's   :20       NA's   :4        NA's   :21     \n       hc          gen        phb            tv           reg     \n Min.   :33.70   G1  : 56   P1  : 63   Min.   : 1.00   north: 81  \n 1st Qu.:48.12   G2  : 50   P2  : 40   1st Qu.: 4.00   east :161  \n Median :53.00   G3  : 22   P3  : 19   Median :12.00   west :239  \n Mean   :51.51   G4  : 42   P4  : 32   Mean   :11.89   south:191  \n 3rd Qu.:56.00   G5  : 75   P5  : 50   3rd Qu.:20.00   city : 73  \n Max.   :65.00   NA's:503   P6  : 41   Max.   :25.00   NA's :  3  \n NA's   :46                 NA's:503   NA's   :522                \n\n\n\nGive the standard deviations for age and bmi\nTip: Use the help (?) and help search (??) functionality in R, if you get stuck.\n\nsd(boys$age) # SD for age\n\n[1] 6.894052\n\nsd(boys$bmi, na.rm = TRUE) # SD for bmi\n\n[1] 3.053421\n\n\n\nNote that bmi contains 21 missing values (you can see these missing values in the summary information). Therefore, we need to use na.rm = TRUE to calculate the standard deviation from the observed cases only.\n\n\n\n\n4 Logical Subsetting\n\nCreate a new data frame containing only the boys that are 20 years old or older\nHow many boys are at least 20 years old?\n\nboys2 &lt;- boys[boys$age &gt;= 20, ]\nnrow(boys2)\n\n[1] 12\n\n\n\nOR\n\n\nboys2 &lt;- subset(boys, age &gt;= 20)\nnrow(boys2)\n\n[1] 12\n\n\n\nLogical vectors can be very powerful tools in R. For example, in the first solution, we selected the boys that are at least 20 by indexing the rows of the data frame with an appropriately defined logical vector.\n\n\nSelect all boys that are older than 19 but younger than 19.5\nHow many boys are between the ages of 19 and 19.5?\n\nboys3 &lt;- boys[boys$age &gt; 19 & boys$age &lt; 19.5, ]\nnrow(boys3)\n\n[1] 18\n\n\n\nOR\n\n\nboys3.2 &lt;- subset(boys, age &gt; 19 & age &lt; 19.5)\nnrow(boys3.2)\n\n[1] 18\n\n\n\nCompute the mean age of boys younger than 15 years old that do not live in region north\n\nmean(boys$age[boys$age &lt; 15 & boys$reg != \"north\" ], na.rm = TRUE)\n\n[1] 6.044461\n\n\n\nOR\n\n\nmean(subset(boys, age &lt; 15 & reg != \"north\")$age, na.rm = TRUE)\n\n[1] 6.044461\n\n\n\nIn this exercise, you have learned some basic R usage. The approaches we used for this exercise offer tremendous flexibility but may also be inefficient in complex analyses or data manipulation. Doing advanced operations in basic R can require lots of code. In the next exercise, we will start using packages that allow us to do more complicated operations with fewer lines of code.\nAs you start using R in your own research, you will quickly find yourself in need of packages that are not part of the default R installation. The beauty of R is that its functionality is community-driven. Anyone can add packages to CRAN, and other people can use and improve these packages. There’s a good chance that a function and/or package has been already developed for the analysis or operation you need. If not, maybe you’re interested in filling the gap by submitting your own package?\n\nEnd of Exercise 2\n\n\n\n\n—  Copyright Hanne Oberman, 2025 - CC BY-NC-SA 4.0  Materials developed by Amices team - Methodology & Statistics - Utrecht University"
  },
  {
    "objectID": "exercises/exercise3_solutions.html",
    "href": "exercises/exercise3_solutions.html",
    "title": "Exercise 3",
    "section": "",
    "text": "Begin this practical by setting the maximum line length in R-Studio to 80 characters.\n\nGo to Preferences (or Global Options under Tools) –&gt; Code –&gt; Display.\nTick the Show margin box.\nSet the Margin column to 80.\n\n\n\nData I/O\n\nInstall the mice package\nUse the install.packages() function to install the the mice package.\n\ninstall.packages(\"mice\")\n\n\nIf all went well, you will receive a message in the console telling you that the package has been installed.\n\n\nLoad the mice package\nUse the library() function to load the mice package.\n\nlibrary(mice)\n\n\n\nInstalling the package only makes the package available on your machine.\nYou have to load the package every time you want to use it in a new R session.\n\n\n\nView the mammalsleep data\nMost packages have datasets included. Open the mammalsleep dataset from the mice package in two ways:\n\nBy evaluating its name, mammalsleep, directly\nBy using the View() function\n\n\n# I'm not actually running these lines because the results would clutter \n# this document too much.\nmammalSleep\nView(mammalSleep)\n\n\nUsing View() is preferred for inspecting large datasets because View() opens the dataset in a spreadsheet-like window.\n\n\nWrite the mammalsleep dataset to disk\nSave the mammalsleep dataset that you viewed above to your working directory.\n\nSave the data as a tab-delimited text file.\nUse the . character as the decimal separator.\nName the file mammalsleep.txt\n\n\nwrite.table(mammalsleep, \n            file = \"mammalsleep.txt\", \n            sep = \"\\t\", \n            dec = \".\", \n            row.names = FALSE)\n\n\n\nThe command sep = \"\\t\" creates a tab-delimited file\nThe command dec = \".\" specifies the . character as the decimal seperator (instead of a comma).\nThe command row.names = FALSE tells R not to include row names in the exported file.\n\n\n\nRead the mammalsleep.txt file from disk\nRead in the data that you just saved to disk and save it as a new R object called sleepdata.\n\nsleepdata &lt;- read.table(\"mammalsleep.txt\", \n                        sep = \"\\t\", \n                        dec = \".\", \n                        header = TRUE, \n                        stringsAsFactors = TRUE)\n\n\n\nThe command sep = \"\\t\" indicates that the file is tab-delimited\nThe command dec = \".\" indicates that a . is used as the decimal seperator\nThe command header = TRUE tells R that the first row of data contains the variable names\nThe stringsAsFactors = TRUE command will automatically convert any character variables to factors\n\nYou can read files that live in the working directory by specifying only the file name (with the file extension). To read files that live in any other location, you need to specify the full file path (either relative to the working directory or an absolute path). To find the current working directory, you can run getwd(). To change the working directory, you can use setwd(). One benefit of using RStudio projects is that the working directory is automatically set to the main project directory.\nThere are many packages that facilitate data I/O from other statistical software packages such as:\n\nSPSS (e.g. read_spss() from the haven package)\nMplus (routines in the MplusAutomation package)\nStata (read.dta() in the foreign package)\nSAS (sasxport.get() from the Hmisc package)\n\nThere are also packages to read data from spreadsheet software such as MS Excel (read.xlsx() from the xlsx package).\nFor a short guide on importing multiple file formats into R, see this page.\n\n\n\n\nWorking with Data\n\nExplore the data\nThe dataset you’ve just imported contains the sleep data from Allison and Cicchetti (1976).\n\nExplore these data, and familiarize yourself with the characteristics of the dataset.\n\n\nThere is no completely right or wrong way to go about exploring a dataset, but the following commands represent some potential options.\n\n\n# Call up the documentation for the original dataset in the mice package:\n?mammalsleep\n\n\n# Show the data structure:\nstr(sleepdata)\n\n'data.frame':   62 obs. of  11 variables:\n $ species: Factor w/ 62 levels \"African elephant\",..: 1 2 3 4 5 6 7 8 9 10 ...\n $ bw     : num  6654 1 3.38 0.92 2547 ...\n $ brw    : num  5712 6.6 44.5 5.7 4603 ...\n $ sws    : num  NA 6.3 NA NA 2.1 9.1 15.8 5.2 10.9 8.3 ...\n $ ps     : num  NA 2 NA NA 1.8 0.7 3.9 1 3.6 1.4 ...\n $ ts     : num  3.3 8.3 12.5 16.5 3.9 9.8 19.7 6.2 14.5 9.7 ...\n $ mls    : num  38.6 4.5 14 NA 69 27 19 30.4 28 50 ...\n $ gt     : num  645 42 60 25 624 180 35 392 63 230 ...\n $ pi     : int  3 3 1 5 3 4 1 4 1 1 ...\n $ sei    : int  5 1 1 2 5 4 1 5 2 1 ...\n $ odi    : int  3 3 1 3 4 4 1 4 1 1 ...\n\n# Show summaries of the univariate distributions:\nsummary(sleepdata)\n\n                      species         bw                brw         \n African elephant         : 1   Min.   :   0.005   Min.   :   0.14  \n African giant pouched rat: 1   1st Qu.:   0.600   1st Qu.:   4.25  \n Arctic Fox               : 1   Median :   3.342   Median :  17.25  \n Arctic ground squirrel   : 1   Mean   : 198.790   Mean   : 283.13  \n Asian elephant           : 1   3rd Qu.:  48.203   3rd Qu.: 166.00  \n Baboon                   : 1   Max.   :6654.000   Max.   :5712.00  \n (Other)                  :56                                       \n      sws               ps              ts             mls         \n Min.   : 2.100   Min.   :0.000   Min.   : 2.60   Min.   :  2.000  \n 1st Qu.: 6.250   1st Qu.:0.900   1st Qu.: 8.05   1st Qu.:  6.625  \n Median : 8.350   Median :1.800   Median :10.45   Median : 15.100  \n Mean   : 8.673   Mean   :1.972   Mean   :10.53   Mean   : 19.878  \n 3rd Qu.:11.000   3rd Qu.:2.550   3rd Qu.:13.20   3rd Qu.: 27.750  \n Max.   :17.900   Max.   :6.600   Max.   :19.90   Max.   :100.000  \n NA's   :14       NA's   :12      NA's   :4       NA's   :4        \n       gt               pi             sei             odi       \n Min.   : 12.00   Min.   :1.000   Min.   :1.000   Min.   :1.000  \n 1st Qu.: 35.75   1st Qu.:2.000   1st Qu.:1.000   1st Qu.:1.000  \n Median : 79.00   Median :3.000   Median :2.000   Median :2.000  \n Mean   :142.35   Mean   :2.871   Mean   :2.419   Mean   :2.613  \n 3rd Qu.:207.50   3rd Qu.:4.000   3rd Qu.:4.000   3rd Qu.:4.000  \n Max.   :645.00   Max.   :5.000   Max.   :5.000   Max.   :5.000  \n NA's   :4                                                       \n\n# Show (rounded) bivariate correlations (excluding the ID column):\nround(cor(sleepdata[, -1], use = \"pairwise.complete.obs\"), 2) \n\n       bw   brw   sws    ps    ts   mls    gt    pi   sei   odi\nbw   1.00  0.93 -0.38 -0.11 -0.31  0.30  0.65  0.06  0.34  0.13\nbrw  0.93  1.00 -0.37 -0.11 -0.36  0.51  0.75  0.03  0.37  0.15\nsws -0.38 -0.37  1.00  0.51  0.96 -0.38 -0.59 -0.32 -0.54 -0.48\nps  -0.11 -0.11  0.51  1.00  0.73 -0.30 -0.45 -0.45 -0.54 -0.58\nts  -0.31 -0.36  0.96  0.73  1.00 -0.41 -0.63 -0.40 -0.64 -0.59\nmls  0.30  0.51 -0.38 -0.30 -0.41  1.00  0.61 -0.10  0.36  0.06\ngt   0.65  0.75 -0.59 -0.45 -0.63  0.61  1.00  0.20  0.64  0.38\npi   0.06  0.03 -0.32 -0.45 -0.40 -0.10  0.20  1.00  0.62  0.92\nsei  0.34  0.37 -0.54 -0.54 -0.64  0.36  0.64  0.62  1.00  0.79\nodi  0.13  0.15 -0.48 -0.58 -0.59  0.06  0.38  0.92  0.79  1.00\n\n# Show the first six rows:\nhead(sleepdata)\n\n                    species       bw    brw sws  ps   ts  mls  gt pi sei odi\n1          African elephant 6654.000 5712.0  NA  NA  3.3 38.6 645  3   5   3\n2 African giant pouched rat    1.000    6.6 6.3 2.0  8.3  4.5  42  3   1   3\n3                Arctic Fox    3.385   44.5  NA  NA 12.5 14.0  60  1   1   1\n4    Arctic ground squirrel    0.920    5.7  NA  NA 16.5   NA  25  5   2   3\n5            Asian elephant 2547.000 4603.0 2.1 1.8  3.9 69.0 624  3   5   4\n6                    Baboon   10.550  179.5 9.1 0.7  9.8 27.0 180  4   4   4\n\n# Show the last six rows:\ntail(sleepdata)\n\n                 species    bw  brw  sws  ps   ts  mls  gt pi sei odi\n57                Tenrec 0.900  2.6 11.0 2.3 13.3  4.5  60  2   1   2\n58            Tree hyrax 2.000 12.3  4.9 0.5  5.4  7.5 200  3   1   3\n59            Tree shrew 0.104  2.5 13.2 2.6 15.8  2.3  46  3   2   2\n60                Vervet 4.190 58.0  9.7 0.6 10.3 24.0 210  4   3   4\n61         Water opossum 3.500  3.9 12.8 6.6 19.4  3.0  14  2   1   1\n62 Yellow-bellied marmot 4.050 17.0   NA  NA   NA 13.0  38  3   1   1\n\n\n\nSince mammalsleep is an R dataset, it should have a help file. The documentation for the mammalsleep dataset may yield valuable insight about the origin of the data and the variables included therein.\nThe functions head() and tail() are very useful. If something went from with reading the data, you can often tell very quickly by looking at the first or last rows (do they look like you expected)?\nThe str function is a good way to get a quick overview of the measurement levels in a dataset.\n\nNotice how the information returned by the str() function looks very similar to the information you see in RStudio’s Environment tab.\nThe Environment tab is simply reporting the results of the str() function in a pretty format.\n\nNotice that sleepdata is a data frame. The read.table() function will return the data it reads as a data frame.\nOne thing that may have caught your attention is the relation between ts, ps and sws. This relation is deterministic: total sleep (ts) is the sum of paradoxical sleep (ps) and short-wave sleep (sws). If you were to model these data, you would need to account for such relations in your analysis.\n\n\nSubset the data\nSome animals were not used by Allison and Cicchetti (1976).\n\nExclude the following animals from sleepdata:\n\nEchidna\nLesser short-tailed shrew\nMusk shrew\n\nSave the dataset as sleepdata2\n\n\nThere are at least three ways to exclude these animals from the dataset.\nThe first two approaches both require us to use the species variable to create a logical vector flagging the rows to drop.\n\n\nexclusions &lt;- sleepdata$species %in% \n  c(\"Echidna\", \"Lesser short-tailed shrew\", \"Musk shrew\")\n\n\n\nThe first approach uses standard, base R subsetting procedures:\n\n\n\n# Negate the logical vector to select all rows other than the exclusions:\nsleepdata2 &lt;- sleepdata[!exclusions, ]\n\n\n\nThe second approach uses the filter() function from the dplyr package:\n\n\n\nlibrary(dplyr)\nsleepdata2 &lt;- filter(sleepdata, !exclusions)\n\n\n\nThe third approach uses the row numbers directly\n\nYou will need to manually figure out which row numbers you want to exclude\n\n\n\n\nsleepdata2 &lt;- sleepdata[-c(16, 32, 38), ]\n\n\nNote that the row number option requires less code, but the first two options have much lower probabilities for error.\n\nIf the dataset changes or the rows are sorted differently, the row number option may not work correctly (i.e., you’d exclude the wrong cases).\nSince you find the rows programatically in the first two options, they are much more robust to changes in the data.\n\n\n\n\nPlot brain weight as a function of species\n\nUse the sleepdata2 dataset and base R graphics routines to create a plot of brain weight against species.\n\nplot(brw ~ species, data = sleepdata2)\n\n\n\n\n\n\n\n\n\n\nConditional case selection\n\nSome animals have much heavier brains than other animals. Find the names of all animals that have a brain weight larger than 1 standard deviation above the mean brain weight.\n\n# Create a logical vector flagging the rows with extreme brain weights:\nbigBrains &lt;- sleepdata2$brw &gt; (mean(sleepdata2$brw) + sd(sleepdata2$brw))\n\n# Extract the names from any row flagged by the above vector:\nas.character(sleepdata2$species[bigBrains])\n\n[1] \"African elephant\" \"Asian elephant\"   \"Man\"             \n\n\nPlot of big-brained animals\nReplicate the plot from @cref-plot with only the animals you flagged in @cref-flag\n\nDo not plot any information about the other animals.\n\n\nA naive attempt may simply try to run the same plotting code with a subset of the data.\n\n\nplot(brw ~ species, data = sleepdata2[bigBrains, ])\n\n\n\n\n\n\n\n\n\nThe downside to this approach is that it still includes all animals on the x-axis. The original factor labels for species remain unchanged in the subset of the original data.\n\n\nlevels(sleepdata2$species[bigBrains])\n\n [1] \"African elephant\"          \"African giant pouched rat\"\n [3] \"Arctic Fox\"                \"Arctic ground squirrel\"   \n [5] \"Asian elephant\"            \"Baboon\"                   \n [7] \"Big brown bat\"             \"Brazilian tapir\"          \n [9] \"Cat\"                       \"Chimpanzee\"               \n[11] \"Chinchilla\"                \"Cow\"                      \n[13] \"Desert hedgehog\"           \"Donkey\"                   \n[15] \"Eastern American mole\"     \"Echidna\"                  \n[17] \"European hedgehog\"         \"Galago\"                   \n[19] \"Genet\"                     \"Giant armadillo\"          \n[21] \"Giraffe\"                   \"Goat\"                     \n[23] \"Golden hamster\"            \"Gorilla\"                  \n[25] \"Gray seal\"                 \"Gray wolf\"                \n[27] \"Ground squirrel\"           \"Guinea pig\"               \n[29] \"Horse\"                     \"Jaguar\"                   \n[31] \"Kangaroo\"                  \"Lesser short-tailed shrew\"\n[33] \"Little brown bat\"          \"Man\"                      \n[35] \"Mole rat\"                  \"Mountain beaver\"          \n[37] \"Mouse\"                     \"Musk shrew\"               \n[39] \"N. American opossum\"       \"Nine-banded armadillo\"    \n[41] \"Okapi\"                     \"Owl monkey\"               \n[43] \"Patas monkey\"              \"Phanlanger\"               \n[45] \"Pig\"                       \"Rabbit\"                   \n[47] \"Raccoon\"                   \"Rat\"                      \n[49] \"Red fox\"                   \"Rhesus monkey\"            \n[51] \"Rock hyrax (Hetero. b)\"    \"Rock hyrax (Procavia hab)\"\n[53] \"Roe deer\"                  \"Sheep\"                    \n[55] \"Slow loris\"                \"Star nosed mole\"          \n[57] \"Tenrec\"                    \"Tree hyrax\"               \n[59] \"Tree shrew\"                \"Vervet\"                   \n[61] \"Water opossum\"             \"Yellow-bellied marmot\"    \n\n\n\nThe plot() function uses all 62 factor levels to generate the x-axis even though 59 levels are empty.\nTo get rid of the unused factor levels, we can use the factor() function.\n\n\nsleepdata3 &lt;- sleepdata2[bigBrains, ]\nsleepdata3$species &lt;- factor(sleepdata3$species)\nlevels(sleepdata3$species)\n\n[1] \"African elephant\" \"Asian elephant\"   \"Man\"             \n\n\n\nNow we can create the plot that we wanted:\n\n\nplot(brw ~ species, data = sleepdata3)\n\n\n\n\n\n\n\n\n\n\n\nWorkspace I/O\n\n\nSave the current workspace\n\nNow that we have imported some data and done some analyses and data manipulations, we may want to save the current workspace (i.e. the current state of our R session). Saving the workspace will save everything in the R session exactly as it exists at the moment of saving. So, we can easily continue from this exact state at a later time. All we need to do is re-load the saved workspace file.\nUse the save.image() function to save the entirety of the current workspace.\n\nName the workspace image practical3.RData.\n\nAlso, use the save() function to save the sleepdata dataset as a separate workspace.\n\nName this workspace sleepdata.RData.\n\n\nsave.image(\"practical3.RData\")\nsave(sleepdata, file = \"sleepdata.RData\")\n\n\nClear the workspace\nRun the following command to clear the workspace.\n\nrm(list = ls(all = TRUE))\n\nThis is a very handy line of code to memorize. It will clear nearly everything from your current workspace. If you’re curious about how it does so, check the help files for the rm() and ls() functions.\nLoad a saved workspace\nUse the load() function to load the practical3.RData workspace that you saved in @cref-save.\n\nload(\"practical3.RData\")\n\n\nLoad a saved dataset\n\nUse the rm() function to remove the sleepdata dataset from the environment.\nUse the load() function to reload the sleepdata dataset from the sleepdata.RData workspace you saved in @cref-save\n\n\nrm(sleepdata)\nload(\"sleepdata.RData\")\n\n\nA better way to read/write R data objects\nYou may have noticed that when you load a dataset with read.table(), you assign the result to a new R object. However, when you load a dataset saved as a workspace using the load() function, you cannot rename the resulting R object.\nWhen saving an R object with the save() function and loading it with the load() function, the object keeps the name it had when saved. When saving and loading individual data objects, this behavior is rarely desirable.\nThe saveRDS() and readRDS() functions allow us to save and load R objects in R Data Set (RDS) format.\n\nObjects stored in RDS format do not keep their original names.\nWe have to give the saved object to a new name when we load it with the readRDS() function.\nThis workflow is more transparent than the behavior of save() and load() and better follows the R philosophy of assigning values to objects.\n\nIf you need to save individual R objects (i.e., not an entire workspace image), you should probably save them as RDS files and not RData workspaces.\n\nUse the saveRDS() function to save the sleepdata object as sleepdata.rds.\nUse the readRDS() function to load the sleepdata.rds file and assign it to the sleepdata4 object.\n\n\nsaveRDS(sleepdata, \"sleepdata.rds\")\nsleepdat4 &lt;- readRDS(\"sleepdata.rds\")\n\n\n\n\nA Useful Package for Data I/O\n\nIf R is not (yet) your preferred data-analysis software, you are probably accustomed to processing your data in some other software and storing data in formats other than RData or RDS. In R, there are many facilities for importing and exporting data with diverse formats.\nHere, I want to specifically highlight the haven package written by Hadley Wickham. The haven package provides many useful functions to import and export data from software such as Stata, SAS, and SPSS.\n\nEnd of Exercise 3\n\n\n\n\n—  Copyright Hanne Oberman, 2025 - CC BY-NC-SA 4.0  Materials developed by Amices team - Methodology & Statistics - Utrecht University"
  }
]